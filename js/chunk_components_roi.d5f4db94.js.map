{"version":3,"sources":["webpack:///./src/node_modules/web-service-base64/dist/index.js","webpack:///./src/views/components/roi.vue?5834","webpack:///./src/node_modules/web-service-base64/dist/src/service-base64.js","webpack:///./src/views/components/roi.vue?3faa","webpack:///./src/node_modules/@advantech/web-x-component-roi/lib/web-x-component-roi.esm.js","webpack:///./src/views/components/roi.vue?d325","webpack:///./src/views/components/roi.vue?e47d","webpack:///./src/views/components/roi.vue"],"names":["__export","m","p","exports","hasOwnProperty","Object","defineProperty","value","EImageFileType","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","ServiceBase64Class","base64HeaderRegex","test","urlRegex","file","reader","FileReader","readAsDataURL","onload","onerror","error","console","fileSize","size","getBase64","url","isUrl","xhr","XMLHttpRequest","onloadend","toString","response","open","responseType","send","base64","img","Image","setAttribute","canvas","document","createElement","width","height","ctx","getContext","drawImage","dataURL","toDataURL","replace","src","parts","split","contentType","raw","window","atob","rawLength","length","uInt8Array","Uint8Array","i","charCodeAt","Blob","type","base64String","fileType","jpg","ServiceBase64","imageEmpty","personEmpty","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","$i18n","Component_ROI_Title","formData","drawRegionCount","roiImage","roiData","Button_Clear","on","formROIDraw","formROIClear","Component_ROI_With_Customized_Clear_Button_Title","scopedSlots","_u","key","fn","ref","clearROI","staticStyle","staticRenderFns","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","arr2","iter","call","from","TypeError","reflectionIsSupported","Reflect","defineMetadata","getOwnMetadataKeys","copyReflectionMetadata","to","forwardMetadata","getOwnPropertyNames","forEach","propertyKey","metaKeys","metaKey","metadata","getOwnMetadata","fakeArray","__proto__","hasProto","createDecorator","factory","target","index","Ctor","__decorators__","undefined","push","options","isPrimitive","collectDataFromConstructor","vm","Component","originalInit","_init","_this","keys","$options","props","get","set","data","plainData","$internalHooks","componentFactory","arguments","name","_componentTag","proto","indexOf","descriptor","getOwnPropertyDescriptor","methods","mixins","computed","decorators","superProto","getPrototypeOf","Super","Extended","extend","forwardStaticMembers","shouldIgnore","callee","caller","Original","extendedDescriptor","superDescriptor","registerHooks","EDrawStep","reflectMetadataIsSupported","getMetadata","applyMetadata","Prop","componentOptions","k","super","widthRatio","heightRatio","canvasModelOriginal","x","y","canvasModel","roiColor","canvasModelData","isDrawing","drawStep","mouseUp","canvasData","initSnapshot","JSON","parse","stringify","cxView","clearRect","$emit","clearModel","canvasEl","$refs","lineWidth","viewImage","addEventListener","onMouseDown","onMouseUp","onMouseMove","mouseDown","stopPropagation","strokeStyle","drawColor","startPoint","offsetX","originalEvent","layerX","offsetY","layerY","prevStep","mouseMove","cursor","w","Math","abs","h","strokeRect","round","isinitCanvas","snapshot","cx","image","snapshotData","item","start_x","start_y","start_width","start_height","beginPath","rect","stroke","initCanvas","getRandomColor","colorCode","randomColorCode","floor","random","Number","default","String","components","BButton","script","normalizeComponent","template","style","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","shadowRoot","originalRender","existing","beforeCreate","concat","isOldIE","navigator","userAgent","toLowerCase","id","addStyle","HEAD","styles","css","group","media","ids","Set","has","code","source","map","sources","btoa","unescape","encodeURIComponent","element","head","getElementsByTagName","appendChild","styleSheet","cssText","filter","Boolean","join","textNode","createTextNode","nodes","childNodes","removeChild","insertBefore","__vue_script__","__vue_render__","_t","click","buttonClearText","__vue_staticRenderFns__","_withStripped","__vue_inject_styles__","inject","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","formDataOriginal","IMG","WebXRoi","component"],"mappings":"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","file":"js/chunk_components_roi.d5f4db94.js","sourcesContent":["\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./src/service-base64\"));\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roi.vue?vue&type=style&index=0&id=4ed0a56a&lang=scss&scoped=true&\"","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass ServiceBase64Class {\r\n    /**\r\n     * is base64 image\r\n     * @param  {string} value\r\n     * @returns boolean\r\n     */\r\n    isBase64Image(value) {\r\n        let base64HeaderRegex = /data:image\\/([a-zA-Z]*);base64,([^\\\"]*)/;\r\n        return base64HeaderRegex.test(value) ? true : false;\r\n    }\r\n    /**\r\n     * is url\r\n     * @param  {string} value\r\n     * @returns boolean\r\n     */\r\n    isUrl(value) {\r\n        let urlRegex = /^(ws|wss|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/i;\r\n        return urlRegex.test(value) ? true : false;\r\n    }\r\n    /**\r\n     * get base64\r\n     * @param  {File} file\r\n     * @returns Promise\r\n     */\r\n    getBase64(file) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let result;\r\n            if (file) {\r\n                result = yield new Promise((resolve, reject) => {\r\n                    try {\r\n                        let reader = new FileReader();\r\n                        reader.readAsDataURL(file);\r\n                        reader.onload = () => resolve(reader);\r\n                        reader.onerror = () => reject('error occurred when read file');\r\n                    }\r\n                    catch (error) {\r\n                        console.error('error occurred when read file');\r\n                        resolve(null);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                console.error('file not exist', file);\r\n                result = null;\r\n            }\r\n            return result;\r\n        });\r\n    }\r\n    /**\r\n     * file to base64\r\n     * @param  {File} file\r\n     * @param  {number=null} fileSize\r\n     * @returns Promise\r\n     */\r\n    fileToBase64(file, fileSize = null) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let result;\r\n            if (file) {\r\n                if (fileSize && fileSize > 0) {\r\n                    if (file.size && file.size < fileSize) {\r\n                        try {\r\n                            result = yield this.getBase64(file);\r\n                        }\r\n                        catch (error) {\r\n                            console.error('error occurred when read file');\r\n                            result = null;\r\n                        }\r\n                    }\r\n                    else {\r\n                        console.error('file size is to large');\r\n                        result = null;\r\n                    }\r\n                }\r\n                else {\r\n                    try {\r\n                        result = yield this.getBase64(file);\r\n                    }\r\n                    catch (error) {\r\n                        console.error('error occurred when read file');\r\n                        result = null;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                console.error('file not exist', file);\r\n                result = null;\r\n            }\r\n            return result;\r\n        });\r\n    }\r\n    /**\r\n     * url any type(ex: pdf, image, mp4...) to base64\r\n     * @param  {string} url\r\n     * @param  {Function=null} callback\r\n     * @returns Promise\r\n     */\r\n    urlToBase64(url) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let result;\r\n            if (this.isUrl(url)) {\r\n                result = yield new Promise((resolve, reject) => {\r\n                    try {\r\n                        let xhr = new XMLHttpRequest();\r\n                        xhr.onload = () => {\r\n                            let reader = new FileReader();\r\n                            reader.onloadend = () => resolve(reader.result.toString());\r\n                            reader.readAsDataURL(xhr.response);\r\n                        };\r\n                        xhr.onerror = reject;\r\n                        xhr.open('GET', url);\r\n                        xhr.responseType = 'blob';\r\n                        xhr.send();\r\n                    }\r\n                    catch (error) {\r\n                        console.error('error occurred when url to base64');\r\n                        result = null;\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                console.error('url error');\r\n                result = null;\r\n            }\r\n            return result;\r\n        });\r\n    }\r\n    /**\r\n     * url image to base64\r\n     * @param  {string} url\r\n     * @returns Promise\r\n     */\r\n    urlImageToBase64(url) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let result;\r\n            if (this.isUrl(url)) {\r\n                result = yield new Promise((resolve, reject) => {\r\n                    try {\r\n                        let img = new Image();\r\n                        let base64;\r\n                        img.setAttribute('crossOrigin', 'anonymous');\r\n                        img.onload = () => {\r\n                            let canvas = document.createElement('canvas');\r\n                            canvas.width = 150;\r\n                            canvas.height = 150;\r\n                            let ctx = canvas.getContext('2d');\r\n                            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n                            let dataURL = canvas.toDataURL('image/jpg');\r\n                            base64 = dataURL.replace(/^data:image\\/(png|jpg);base64,/, '');\r\n                            resolve(base64);\r\n                        };\r\n                        img.onerror = () => reject('error occurred when url to file');\r\n                        img.src = url;\r\n                    }\r\n                    catch (error) {\r\n                        console.error('error occurred when url to file');\r\n                        resolve(null);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                console.error('url error');\r\n                result = null;\r\n            }\r\n            return result;\r\n        });\r\n    }\r\n    /**\r\n     * @param  {string} base64\r\n     * @returns Blob\r\n     */\r\n    base64ToBlob(base64) {\r\n        let parts = base64.split(';base64,');\r\n        let contentType = parts[0].split(':')[1];\r\n        let raw = window.atob(parts[1]);\r\n        let rawLength = raw.length;\r\n        let uInt8Array = new Uint8Array(rawLength);\r\n        for (let i = 0; i < rawLength; ++i) {\r\n            uInt8Array[i] = raw.charCodeAt(i);\r\n        }\r\n        return new Blob([uInt8Array], { type: contentType });\r\n    }\r\n    /**\r\n     * @param  {string} base64\r\n     * @returns string\r\n     */\r\n    getBase64ContentType(base64) {\r\n        let parts = base64.split(';base64,');\r\n        let contentType = parts[0].split(':')[1];\r\n        return contentType;\r\n    }\r\n    /**\r\n     * @param  {string} base64\r\n     * @returns string\r\n     */\r\n    getBase64String(base64) {\r\n        let parts = base64.split(';base64,');\r\n        let base64String = parts[1];\r\n        return base64String;\r\n    }\r\n    /**\r\n     * @param  {string} contentType\r\n     * @param  {string} base64\r\n     * @returns string\r\n     */\r\n    getBase64FullString(contentType, base64) {\r\n        return `data:${contentType};base64,${base64}`;\r\n    }\r\n    /**\r\n     * @param  {string} base64\r\n     * @param  {string|'png'|'jpg'='jpg'} fileType\r\n     * @returns string\r\n     */\r\n    imageBase64Src(base64, fileType = EImageFileType.jpg) {\r\n        return `data:image/${fileType};base64,${base64}`;\r\n    }\r\n}\r\nexports.ServiceBase64Class = ServiceBase64Class;\r\nvar EImageFileType;\r\n(function (EImageFileType) {\r\n    EImageFileType[\"png\"] = \"png\";\r\n    EImageFileType[\"jpg\"] = \"jpg\";\r\n    EImageFileType[\"gif\"] = \"gif\";\r\n})(EImageFileType = exports.EImageFileType || (exports.EImageFileType = {}));\r\nexports.ServiceBase64 = new ServiceBase64Class();\r\nexports.imageEmpty = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg==';\r\nexports.personEmpty = 'data:image/png;base64,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';\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h3',{staticClass:\"font-weight-bold mb-3\"},[_vm._v(_vm._s(_vm.$i18n.Component_ROI_Title))])]),_c('b-col',[_c('web-x-roi',{attrs:{\"drawRegionCount\":_vm.formData.drawRegionCount,\"snapshotData\":_vm.formData.roiImage,\"canvasData\":_vm.formData.roiData,\"buttonClearText\":_vm.$i18n.Button_Clear},on:{\"save-roi\":_vm.formROIDraw,\"clear-roi\":_vm.formROIClear}})],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h3',{staticClass:\"font-weight-bold mb-3\"},[_vm._v(_vm._s(_vm.$i18n.Component_ROI_With_Customized_Clear_Button_Title))])]),_c('b-col',[_c('web-x-roi',{attrs:{\"drawRegionCount\":_vm.formData.drawRegionCount,\"snapshotData\":_vm.formData.roiImage,\"canvasData\":_vm.formData.roiData},on:{\"save-roi\":_vm.formROIDraw,\"clear-roi\":_vm.formROIClear},scopedSlots:_vm._u([{key:\"buttonClear\",fn:function(ref){\nvar clearROI = ref.clearROI;\nreturn [_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('b-button',{attrs:{\"pill\":\"\",\"variant\":\"info\"},on:{\"click\":clearROI}},[_c('i',{staticClass:\"fa fa-times\"})])],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.min.css';\nimport { __decorate } from 'tslib';\nimport Vue from 'vue';\nimport { BButton } from 'bootstrap-vue';\nimport { imageEmpty } from 'web-service-base64';\n\n/**\n  * vue-class-component v7.2.6\n  * (c) 2015-present Evan You\n  * @license MIT\n  */\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n// The rational behind the verbose Reflect-feature check below is the fact that there are polyfills\n// which add an implementation for Reflect.defineMetadata but not for Reflect.getOwnMetadataKeys.\n// Without this check consumers will encounter hard to track down runtime errors.\nfunction reflectionIsSupported() {\n  return typeof Reflect !== 'undefined' && Reflect.defineMetadata && Reflect.getOwnMetadataKeys;\n}\nfunction copyReflectionMetadata(to, from) {\n  forwardMetadata(to, from);\n  Object.getOwnPropertyNames(from.prototype).forEach(function (key) {\n    forwardMetadata(to.prototype, from.prototype, key);\n  });\n  Object.getOwnPropertyNames(from).forEach(function (key) {\n    forwardMetadata(to, from, key);\n  });\n}\n\nfunction forwardMetadata(to, from, propertyKey) {\n  var metaKeys = propertyKey ? Reflect.getOwnMetadataKeys(from, propertyKey) : Reflect.getOwnMetadataKeys(from);\n  metaKeys.forEach(function (metaKey) {\n    var metadata = propertyKey ? Reflect.getOwnMetadata(metaKey, from, propertyKey) : Reflect.getOwnMetadata(metaKey, from);\n\n    if (propertyKey) {\n      Reflect.defineMetadata(metaKey, metadata, to, propertyKey);\n    } else {\n      Reflect.defineMetadata(metaKey, metadata, to);\n    }\n  });\n}\n\nvar fakeArray = {\n  __proto__: []\n};\nvar hasProto = fakeArray instanceof Array;\nfunction createDecorator(factory) {\n  return function (target, key, index) {\n    var Ctor = typeof target === 'function' ? target : target.constructor;\n\n    if (!Ctor.__decorators__) {\n      Ctor.__decorators__ = [];\n    }\n\n    if (typeof index !== 'number') {\n      index = undefined;\n    }\n\n    Ctor.__decorators__.push(function (options) {\n      return factory(options, key, index);\n    });\n  };\n}\nfunction isPrimitive(value) {\n  var type = _typeof(value);\n\n  return value == null || type !== 'object' && type !== 'function';\n}\nfunction warn(message) {\n  if (typeof console !== 'undefined') {\n    console.warn('[vue-class-component] ' + message);\n  }\n}\n\nfunction collectDataFromConstructor(vm, Component) {\n  // override _init to prevent to init as Vue instance\n  var originalInit = Component.prototype._init;\n\n  Component.prototype._init = function () {\n    var _this = this;\n\n    // proxy to actual vm\n    var keys = Object.getOwnPropertyNames(vm); // 2.2.0 compat (props are no longer exposed as self properties)\n\n    if (vm.$options.props) {\n      for (var key in vm.$options.props) {\n        if (!vm.hasOwnProperty(key)) {\n          keys.push(key);\n        }\n      }\n    }\n\n    keys.forEach(function (key) {\n      Object.defineProperty(_this, key, {\n        get: function get() {\n          return vm[key];\n        },\n        set: function set(value) {\n          vm[key] = value;\n        },\n        configurable: true\n      });\n    });\n  }; // should be acquired class property values\n\n\n  var data = new Component(); // restore original _init to avoid memory leak (#209)\n\n  Component.prototype._init = originalInit; // create plain data object\n\n  var plainData = {};\n  Object.keys(data).forEach(function (key) {\n    if (data[key] !== undefined) {\n      plainData[key] = data[key];\n    }\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!(Component.prototype instanceof Vue) && Object.keys(plainData).length > 0) {\n      warn('Component class must inherit Vue or its descendant class ' + 'when class property is used.');\n    }\n  }\n\n  return plainData;\n}\n\nvar $internalHooks = ['data', 'beforeCreate', 'created', 'beforeMount', 'mounted', 'beforeDestroy', 'destroyed', 'beforeUpdate', 'updated', 'activated', 'deactivated', 'render', 'errorCaptured', 'serverPrefetch' // 2.6\n];\nfunction componentFactory(Component) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  options.name = options.name || Component._componentTag || Component.name; // prototype props.\n\n  var proto = Component.prototype;\n  Object.getOwnPropertyNames(proto).forEach(function (key) {\n    if (key === 'constructor') {\n      return;\n    } // hooks\n\n\n    if ($internalHooks.indexOf(key) > -1) {\n      options[key] = proto[key];\n      return;\n    }\n\n    var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n\n    if (descriptor.value !== void 0) {\n      // methods\n      if (typeof descriptor.value === 'function') {\n        (options.methods || (options.methods = {}))[key] = descriptor.value;\n      } else {\n        // typescript decorated data\n        (options.mixins || (options.mixins = [])).push({\n          data: function data() {\n            return _defineProperty({}, key, descriptor.value);\n          }\n        });\n      }\n    } else if (descriptor.get || descriptor.set) {\n      // computed properties\n      (options.computed || (options.computed = {}))[key] = {\n        get: descriptor.get,\n        set: descriptor.set\n      };\n    }\n  });\n  (options.mixins || (options.mixins = [])).push({\n    data: function data() {\n      return collectDataFromConstructor(this, Component);\n    }\n  }); // decorate options\n\n  var decorators = Component.__decorators__;\n\n  if (decorators) {\n    decorators.forEach(function (fn) {\n      return fn(options);\n    });\n    delete Component.__decorators__;\n  } // find super\n\n\n  var superProto = Object.getPrototypeOf(Component.prototype);\n  var Super = superProto instanceof Vue ? superProto.constructor : Vue;\n  var Extended = Super.extend(options);\n  forwardStaticMembers(Extended, Component, Super);\n\n  if (reflectionIsSupported()) {\n    copyReflectionMetadata(Extended, Component);\n  }\n\n  return Extended;\n}\nvar reservedPropertyNames = [// Unique id\n'cid', // Super Vue constructor\n'super', // Component options that will be used by the component\n'options', 'superOptions', 'extendOptions', 'sealedOptions', // Private assets\n'component', 'directive', 'filter'];\nvar shouldIgnore = {\n  prototype: true,\n  arguments: true,\n  callee: true,\n  caller: true\n};\n\nfunction forwardStaticMembers(Extended, Original, Super) {\n  // We have to use getOwnPropertyNames since Babel registers methods as non-enumerable\n  Object.getOwnPropertyNames(Original).forEach(function (key) {\n    // Skip the properties that should not be overwritten\n    if (shouldIgnore[key]) {\n      return;\n    } // Some browsers does not allow reconfigure built-in properties\n\n\n    var extendedDescriptor = Object.getOwnPropertyDescriptor(Extended, key);\n\n    if (extendedDescriptor && !extendedDescriptor.configurable) {\n      return;\n    }\n\n    var descriptor = Object.getOwnPropertyDescriptor(Original, key); // If the user agent does not support `__proto__` or its family (IE <= 10),\n    // the sub class properties may be inherited properties from the super class in TypeScript.\n    // We need to exclude such properties to prevent to overwrite\n    // the component options object which stored on the extended constructor (See #192).\n    // If the value is a referenced value (object or function),\n    // we can check equality of them and exclude it if they have the same reference.\n    // If it is a primitive value, it will be forwarded for safety.\n\n    if (!hasProto) {\n      // Only `cid` is explicitly exluded from property forwarding\n      // because we cannot detect whether it is a inherited property or not\n      // on the no `__proto__` environment even though the property is reserved.\n      if (key === 'cid') {\n        return;\n      }\n\n      var superDescriptor = Object.getOwnPropertyDescriptor(Super, key);\n\n      if (!isPrimitive(descriptor.value) && superDescriptor && superDescriptor.value === descriptor.value) {\n        return;\n      }\n    } // Warn if the users manually declare reserved properties\n\n\n    if (process.env.NODE_ENV !== 'production' && reservedPropertyNames.indexOf(key) >= 0) {\n      warn(\"Static property name '\".concat(key, \"' declared on class '\").concat(Original.name, \"' \") + 'conflicts with reserved property name of Vue internal. ' + 'It may cause unexpected behavior of the component. Consider renaming the property.');\n    }\n\n    Object.defineProperty(Extended, key, descriptor);\n  });\n}\n\nfunction Component(options) {\n  if (typeof options === 'function') {\n    return componentFactory(options);\n  }\n\n  return function (Component) {\n    return componentFactory(Component, options);\n  };\n}\n\nComponent.registerHooks = function registerHooks(keys) {\n  $internalHooks.push.apply($internalHooks, _toConsumableArray(keys));\n};\n\n/** vue-property-decorator verson 8.5.1 MIT LICENSE copyright 2020 kaorun343 */\n/** @see {@link https://github.com/vuejs/vue-class-component/blob/master/src/reflect.ts} */\nvar reflectMetadataIsSupported = typeof Reflect !== 'undefined' && typeof Reflect.getMetadata !== 'undefined';\nfunction applyMetadata(options, target, key) {\n    if (reflectMetadataIsSupported) {\n        if (!Array.isArray(options) &&\n            typeof options !== 'function' &&\n            typeof options.type === 'undefined') {\n            var type = Reflect.getMetadata('design:type', target, key);\n            if (type !== Object) {\n                options.type = type;\n            }\n        }\n    }\n}\n/**\n * decorator of a prop\n * @param  options the options for the prop\n * @return PropertyDecorator | void\n */\nfunction Prop(options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n        })(target, key);\n    };\n}\n\nvar EDrawStep;\r\n(function (EDrawStep) {\r\n    EDrawStep[EDrawStep[\"mouseDown\"] = 1] = \"mouseDown\";\r\n    EDrawStep[EDrawStep[\"mouseMove\"] = 2] = \"mouseMove\";\r\n    EDrawStep[EDrawStep[\"mouseUp\"] = 3] = \"mouseUp\";\r\n})(EDrawStep || (EDrawStep = {}));\n\nvar roi = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  get EDrawStep () { return EDrawStep; }\n});\n\nlet ROI = class ROI extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.widthRatio = 1; // 寬比例\r\n        this.heightRatio = 1; // 高比例\r\n        this.canvasModelOriginal = {\r\n            x: 0,\r\n            y: 0,\r\n            width: 0,\r\n            height: 0,\r\n        };\r\n        this.canvasModel = { ...this.canvasModelOriginal };\r\n        // drop color\r\n        this.roiColor = ['#FF0000', '#00FF00', '#0000FF'];\r\n        this.canvasModelData = [];\r\n        this.isDrawing = false;\r\n        this.drawStep = EDrawStep.mouseUp;\r\n        //#endregion Color\r\n    }\r\n    //#endregion Variables\r\n    //#region Vue Life\r\n    created() { }\r\n    mounted() {\r\n        this.canvasModelData = this.canvasData;\r\n        this.initSnapshot(true);\r\n    }\r\n    //#endregion Vue Life\r\n    //#region Clear\r\n    clearModel() {\r\n        this.canvasModel = JSON.parse(JSON.stringify(this.canvasModelOriginal));\r\n    }\r\n    clearROI() {\r\n        this.canvasModelData = []; //清空畫線\r\n        this.cxView.clearRect(0, 0, 600, 350); //清除\r\n        this.initSnapshot(false); //更新圖片\r\n        this.$emit('clear-roi', this.canvasModelData);\r\n    }\r\n    //#endregion Clear\r\n    //#region Init\r\n    initCanvas() {\r\n        this.clearModel();\r\n        //canvas\r\n        let canvasEl = this.$refs.canvas;\r\n        this.cxView = canvasEl.getContext('2d');\r\n        this.cxView.lineWidth = 3;\r\n        let viewImage = new Image();\r\n        viewImage.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\r\n        //先清空圖層\r\n        this.cxView.clearRect(0, 0, 600, 350);\r\n        viewImage.onload = () => {\r\n            this.cxView.drawImage(viewImage, 0, 0, 600, 350);\r\n            canvasEl.addEventListener('mousedown', this.onMouseDown, false);\r\n            canvasEl.addEventListener('mouseup', this.onMouseUp, false);\r\n            canvasEl.addEventListener('mousemove', this.onMouseMove, false);\r\n        };\r\n    }\r\n    onMouseDown(e) {\r\n        this.isDrawing = true;\r\n        this.drawStep = EDrawStep.mouseDown;\r\n        e.stopPropagation();\r\n        this.cxView.strokeStyle = this.drawColor(this.canvasModelData.length);\r\n        this.startPoint = {\r\n            x: e.offsetX || e.originalEvent.layerX,\r\n            y: e.offsetY || e.originalEvent.layerY,\r\n        };\r\n    }\r\n    onMouseUp(e) {\r\n        this.isDrawing = false;\r\n        e.stopPropagation();\r\n        let prevStep = this.drawStep;\r\n        this.drawStep = EDrawStep.mouseUp;\r\n        if (this.canvasModelData.length >= this.drawRegionCount)\r\n            return;\r\n        if (prevStep !== EDrawStep.mouseMove)\r\n            return;\r\n        this.canvasModelData.push(JSON.parse(JSON.stringify(this.canvasModel)));\r\n        this.$emit('save-roi', this.canvasModelData);\r\n        this.initSnapshot(false);\r\n    }\r\n    onMouseMove(e) {\r\n        e.stopPropagation();\r\n        if (!this.isDrawing)\r\n            return;\r\n        if (this.canvasModelData.length >= this.drawRegionCount)\r\n            return;\r\n        this.drawStep = EDrawStep.mouseMove;\r\n        let cursor = {\r\n            x: e.offsetX || e.originalEvent.layerX,\r\n            y: e.offsetY || e.originalEvent.layerY,\r\n        };\r\n        this.cxView.lineWidth = 3;\r\n        let x = this.startPoint.x;\r\n        if (cursor.x < this.startPoint.x)\r\n            x = cursor.x;\r\n        let y = this.startPoint.y;\r\n        if (cursor.y < this.startPoint.y)\r\n            y = cursor.y;\r\n        let w = Math.abs(cursor.x - this.startPoint.x);\r\n        let h = Math.abs(cursor.y - this.startPoint.y);\r\n        this.cxView.clearRect(0, 0, 600, 350); //清除路徑\r\n        this.cxView.strokeRect(x, y, w, h);\r\n        this.canvasModel.x = Math.round(x * this.widthRatio);\r\n        this.canvasModel.y = Math.round(y * this.heightRatio);\r\n        this.canvasModel.width = Math.round(w * this.widthRatio);\r\n        this.canvasModel.height = Math.round(h * this.heightRatio);\r\n    }\r\n    initSnapshot(isinitCanvas) {\r\n        let canvasEl = this.$refs.snapshot;\r\n        this.cx = canvasEl.getContext('2d');\r\n        this.cx.lineWidth = 3;\r\n        this.image = new Image();\r\n        this.image.src = this.snapshotData.base64;\r\n        this.image.onload = () => {\r\n            this.widthRatio = this.snapshotData.width / 600;\r\n            this.heightRatio = this.snapshotData.height / 350;\r\n            this.cx.drawImage(this.image, 0, 0, 600, 350);\r\n            for (let item of this.canvasModelData) {\r\n                this.cx.strokeStyle = this.drawColor(this.canvasModelData.indexOf(item));\r\n                let start_x = Math.round(item.x / this.widthRatio);\r\n                let start_y = Math.round(item.y / this.heightRatio);\r\n                let start_width = Math.round(item.width / this.widthRatio);\r\n                let start_height = Math.round(item.height / this.heightRatio);\r\n                this.cx.beginPath();\r\n                this.cx.rect(start_x, start_y, start_width, start_height);\r\n                this.cx.stroke();\r\n            }\r\n            if (isinitCanvas)\r\n                this.initCanvas();\r\n        };\r\n    }\r\n    //#endregion Init\r\n    //#region Color\r\n    drawColor(index = 0) {\r\n        switch (index) {\r\n            case 0: // red\r\n            case 1: // green\r\n            case 2: // blue\r\n                break;\r\n            default:\r\n                this.roiColor.push(this.getRandomColor());\r\n                break;\r\n        }\r\n        return this.roiColor[index];\r\n    }\r\n    // 獲取生成RGB格式的隨機顏色值\r\n    // #ff0000ff 後兩位是透明度，數值越大，顏色越深\r\n    getRandomColor() {\r\n        let colorCode = '#';\r\n        for (let i = 0; i < 8; i++) {\r\n            let randomColorCode = Math.floor(Math.random() * 16).toString(16);\r\n            colorCode += randomColorCode;\r\n        }\r\n        return colorCode;\r\n    }\r\n};\r\n__decorate([\r\n    Prop({\r\n        type: Number,\r\n        default: 3,\r\n    })\r\n], ROI.prototype, \"drawRegionCount\", void 0);\r\n__decorate([\r\n    Prop({\r\n        type: Object,\r\n        default: () => {\r\n            return {\r\n                base64: imageEmpty,\r\n                width: 600,\r\n                height: 350,\r\n            };\r\n        },\r\n    })\r\n], ROI.prototype, \"snapshotData\", void 0);\r\n__decorate([\r\n    Prop({\r\n        type: Array,\r\n        default: () => [],\r\n    })\r\n], ROI.prototype, \"canvasData\", void 0);\r\n__decorate([\r\n    Prop({\r\n        type: String,\r\n        default: () => {\r\n            return 'Clear';\r\n        },\r\n    })\r\n], ROI.prototype, \"buttonClearText\", void 0);\r\nROI = __decorate([\r\n    Component({\r\n        components: {\r\n            BButton,\r\n        },\r\n    })\r\n], ROI);\r\nvar script = ROI;\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nconst isOldIE = typeof navigator !== 'undefined' &&\r\n    /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\r\nfunction createInjector(context) {\r\n    return (id, style) => addStyle(id, style);\r\n}\r\nlet HEAD;\r\nconst styles = {};\r\nfunction addStyle(id, css) {\r\n    const group = isOldIE ? css.media || 'default' : id;\r\n    const style = styles[group] || (styles[group] = { ids: new Set(), styles: [] });\r\n    if (!style.ids.has(id)) {\r\n        style.ids.add(id);\r\n        let code = css.source;\r\n        if (css.map) {\r\n            // https://developer.chrome.com/devtools/docs/javascript-debugging\r\n            // this makes source maps inside style tags work properly in Chrome\r\n            code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\r\n            // http://stackoverflow.com/a/26603875\r\n            code +=\r\n                '\\n/*# sourceMappingURL=data:application/json;base64,' +\r\n                    btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\r\n                    ' */';\r\n        }\r\n        if (!style.element) {\r\n            style.element = document.createElement('style');\r\n            style.element.type = 'text/css';\r\n            if (css.media)\r\n                style.element.setAttribute('media', css.media);\r\n            if (HEAD === undefined) {\r\n                HEAD = document.head || document.getElementsByTagName('head')[0];\r\n            }\r\n            HEAD.appendChild(style.element);\r\n        }\r\n        if ('styleSheet' in style.element) {\r\n            style.styles.push(code);\r\n            style.element.styleSheet.cssText = style.styles\r\n                .filter(Boolean)\r\n                .join('\\n');\r\n        }\r\n        else {\r\n            const index = style.ids.size - 1;\r\n            const textNode = document.createTextNode(code);\r\n            const nodes = style.element.childNodes;\r\n            if (nodes[index])\r\n                style.element.removeChild(nodes[index]);\r\n            if (nodes.length)\r\n                style.element.insertBefore(textNode, nodes[index]);\r\n            else\r\n                style.element.appendChild(textNode);\r\n        }\r\n    }\r\n}\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\n    \"div\",\n    [\n      _c(\"div\", [\n        _c(\n          \"div\",\n          {\n            staticClass:\n              \"form-group col-md-12 d-flex justify-content-center align-items-center\"\n          },\n          [\n            _c(\"canvas\", {\n              ref: \"snapshot\",\n              staticClass: \"position-relative\",\n              attrs: { width: \"600\", height: \"350\" }\n            }),\n            _vm._v(\" \"),\n            _c(\"canvas\", {\n              ref: \"canvas\",\n              staticClass: \"position-absolute\",\n              attrs: { width: \"600\", height: \"350\" }\n            })\n          ]\n        )\n      ]),\n      _vm._v(\" \"),\n      _vm._t(\n        \"buttonClear\",\n        [\n          _c(\n            \"div\",\n            { staticClass: \"footer center\" },\n            [\n              _c(\n                \"b-button\",\n                { attrs: { size: \"lg\" }, on: { click: _vm.clearROI } },\n                [\n                  _vm._v(\n                    \"\\n                \" +\n                      _vm._s(_vm.buttonClearText) +\n                      \"\\n            \"\n                  )\n                ]\n              )\n            ],\n            1\n          )\n        ],\n        { clearROI: _vm.clearROI }\n      )\n    ],\n    2\n  )\n};\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-26c6b560_0\", { source: \".center[data-v-26c6b560] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n/*# sourceMappingURL=web-x-component-roi.vue.map */\", map: {\"version\":3,\"sources\":[\"D:\\\\web\\\\web-x-component\\\\web-x-component-roi\\\\src\\\\components\\\\web-x-component-roi.vue\",\"web-x-component-roi.vue\"],\"names\":[],\"mappings\":\"AAkRA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;ACjRA;;AAEA,kDAAkD\",\"file\":\"web-x-component-roi.vue\",\"sourcesContent\":[\"<template>\\r\\n    <div>\\r\\n        <div>\\r\\n            <div class=\\\"form-group col-md-12 d-flex justify-content-center align-items-center\\\">\\r\\n                <canvas\\r\\n                    class=\\\"position-relative\\\"\\r\\n                    ref=\\\"snapshot\\\"\\r\\n                    width=\\\"600\\\"\\r\\n                    height=\\\"350\\\"\\r\\n                ></canvas>\\r\\n\\r\\n                <canvas\\r\\n                    class=\\\"position-absolute\\\"\\r\\n                    ref=\\\"canvas\\\"\\r\\n                    width=\\\"600\\\"\\r\\n                    height=\\\"350\\\"\\r\\n                ></canvas>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <slot\\r\\n            name=\\\"buttonClear\\\"\\r\\n            :clearROI=\\\"clearROI\\\"\\r\\n        >\\r\\n            <div class=\\\"footer center\\\">\\r\\n                <b-button\\r\\n                    size=\\\"lg\\\"\\r\\n                    @click=\\\"clearROI\\\"\\r\\n                >\\r\\n                    {{ buttonClearText }}\\r\\n                </b-button>\\r\\n            </div>\\r\\n        </slot>\\r\\n\\r\\n    </div>\\r\\n</template>\\r\\n\\r\\n<script lang=\\\"ts\\\">\\r\\nimport { Vue, Component, Prop, Emit } from 'vue-property-decorator';\\r\\nimport { BButton } from 'bootstrap-vue';\\r\\nimport { imageEmpty } from 'web-service-base64';\\r\\nimport { IComponent } from '../models';\\r\\n\\r\\n@Component({\\r\\n    components: {\\r\\n        BButton,\\r\\n    },\\r\\n})\\r\\nexport default class ROI extends Vue {\\r\\n    //#region Prop\\r\\n    @Prop({\\r\\n        type: Number,\\r\\n        default: 3,\\r\\n    })\\r\\n    drawRegionCount!: number;\\r\\n\\r\\n    @Prop({\\r\\n        type: Object,\\r\\n        default: () => {\\r\\n            return {\\r\\n                base64: imageEmpty,\\r\\n                width: 600,\\r\\n                height: 350,\\r\\n            };\\r\\n        },\\r\\n    })\\r\\n    private snapshotData!: IComponent.ISnapshotData;\\r\\n\\r\\n    @Prop({\\r\\n        type: Array,\\r\\n        default: () => [],\\r\\n    })\\r\\n    private canvasData!: IComponent.ICanvasModel[];\\r\\n\\r\\n    @Prop({\\r\\n        type: String,\\r\\n        default: () => {\\r\\n            return 'Clear';\\r\\n        },\\r\\n    })\\r\\n    private buttonClearText!: string;\\r\\n    //#endregion Prop\\r\\n\\r\\n    //#region Variables\\r\\n    //canvas\\r\\n    private cxView!: CanvasRenderingContext2D;\\r\\n    private cx!: CanvasRenderingContext2D;\\r\\n    private image!: HTMLImageElement;\\r\\n\\r\\n    private widthRatio: number = 1; // 寬比例\\r\\n    private heightRatio: number = 1; // 高比例\\r\\n\\r\\n    private canvasModelOriginal: IComponent.ICanvasModel = {\\r\\n        x: 0,\\r\\n        y: 0,\\r\\n        width: 0,\\r\\n        height: 0,\\r\\n    };\\r\\n    private canvasModel: IComponent.ICanvasModel = { ...this.canvasModelOriginal };\\r\\n\\r\\n    // drop color\\r\\n    private roiColor = ['#FF0000', '#00FF00', '#0000FF'];\\r\\n\\r\\n    private canvasModelData: IComponent.ICanvasModel[] = [];\\r\\n\\r\\n    private isDrawing: boolean = false;\\r\\n    private drawStep: IComponent.EDrawStep = IComponent.EDrawStep.mouseUp;\\r\\n    private startPoint: IComponent.ICoordinate;\\r\\n\\r\\n    //#endregion Variables\\r\\n\\r\\n    //#region Vue Life\\r\\n    private created(): void {}\\r\\n    private mounted(): void {\\r\\n        this.canvasModelData = this.canvasData;\\r\\n        this.initSnapshot(true);\\r\\n    }\\r\\n    //#endregion Vue Life\\r\\n\\r\\n    //#region Clear\\r\\n    private clearModel(): void {\\r\\n        this.canvasModel = JSON.parse(JSON.stringify(this.canvasModelOriginal));\\r\\n    }\\r\\n\\r\\n    private clearROI(): void {\\r\\n        this.canvasModelData = []; //清空畫線\\r\\n        this.cxView.clearRect(0, 0, 600, 350); //清除\\r\\n        this.initSnapshot(false); //更新圖片\\r\\n        this.$emit('clear-roi', this.canvasModelData);\\r\\n    }\\r\\n    //#endregion Clear\\r\\n\\r\\n    //#region Init\\r\\n    private initCanvas(): void {\\r\\n        this.clearModel();\\r\\n\\r\\n        //canvas\\r\\n        let canvasEl: HTMLCanvasElement = this.$refs.canvas as HTMLCanvasElement;\\r\\n        this.cxView = canvasEl.getContext('2d');\\r\\n        this.cxView.lineWidth = 3;\\r\\n        let viewImage = new Image();\\r\\n        viewImage.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\\r\\n\\r\\n        //先清空圖層\\r\\n        this.cxView.clearRect(0, 0, 600, 350);\\r\\n        viewImage.onload = () => {\\r\\n            this.cxView.drawImage(viewImage, 0, 0, 600, 350);\\r\\n            canvasEl.addEventListener('mousedown', this.onMouseDown, false);\\r\\n            canvasEl.addEventListener('mouseup', this.onMouseUp, false);\\r\\n            canvasEl.addEventListener('mousemove', this.onMouseMove, false);\\r\\n        };\\r\\n    }\\r\\n\\r\\n    private onMouseDown(e: any): void {\\r\\n        this.isDrawing = true;\\r\\n        this.drawStep = IComponent.EDrawStep.mouseDown;\\r\\n        e.stopPropagation();\\r\\n\\r\\n        this.cxView.strokeStyle = this.drawColor(this.canvasModelData.length);\\r\\n        this.startPoint = {\\r\\n            x: e.offsetX || e.originalEvent.layerX,\\r\\n            y: e.offsetY || e.originalEvent.layerY,\\r\\n        };\\r\\n    }\\r\\n\\r\\n    private onMouseUp(e: any): void {\\r\\n        this.isDrawing = false;\\r\\n        e.stopPropagation();\\r\\n\\r\\n        let prevStep = this.drawStep;\\r\\n        this.drawStep = IComponent.EDrawStep.mouseUp;\\r\\n\\r\\n        if (this.canvasModelData.length >= this.drawRegionCount) return;\\r\\n        if (prevStep !== IComponent.EDrawStep.mouseMove) return;\\r\\n\\r\\n        this.canvasModelData.push(JSON.parse(JSON.stringify(this.canvasModel)));\\r\\n        this.$emit('save-roi', this.canvasModelData);\\r\\n        this.initSnapshot(false);\\r\\n    }\\r\\n\\r\\n    private onMouseMove(e: any): void {\\r\\n        e.stopPropagation();\\r\\n\\r\\n        if (!this.isDrawing) return;\\r\\n        if (this.canvasModelData.length >= this.drawRegionCount) return;\\r\\n\\r\\n        this.drawStep = IComponent.EDrawStep.mouseMove;\\r\\n\\r\\n        let cursor: IComponent.ICoordinate = {\\r\\n            x: e.offsetX || e.originalEvent.layerX,\\r\\n            y: e.offsetY || e.originalEvent.layerY,\\r\\n        };\\r\\n\\r\\n        this.cxView.lineWidth = 3;\\r\\n        let x: number = this.startPoint.x;\\r\\n        if (cursor.x < this.startPoint.x) x = cursor.x;\\r\\n\\r\\n        let y: number = this.startPoint.y;\\r\\n        if (cursor.y < this.startPoint.y) y = cursor.y;\\r\\n\\r\\n        let w: number = Math.abs(cursor.x - this.startPoint.x);\\r\\n        let h: number = Math.abs(cursor.y - this.startPoint.y);\\r\\n\\r\\n        this.cxView.clearRect(0, 0, 600, 350); //清除路徑\\r\\n        this.cxView.strokeRect(x, y, w, h);\\r\\n\\r\\n        this.canvasModel.x = Math.round(x * this.widthRatio);\\r\\n        this.canvasModel.y = Math.round(y * this.heightRatio);\\r\\n        this.canvasModel.width = Math.round(w * this.widthRatio);\\r\\n        this.canvasModel.height = Math.round(h * this.heightRatio);\\r\\n    }\\r\\n\\r\\n    private initSnapshot(isinitCanvas: boolean): void {\\r\\n        let canvasEl: HTMLCanvasElement = this.$refs.snapshot as HTMLCanvasElement;\\r\\n        this.cx = canvasEl.getContext('2d');\\r\\n\\r\\n        this.cx.lineWidth = 3;\\r\\n        this.image = new Image();\\r\\n        this.image.src = this.snapshotData.base64;\\r\\n\\r\\n        this.image.onload = () => {\\r\\n            this.widthRatio = this.snapshotData.width / 600;\\r\\n            this.heightRatio = this.snapshotData.height / 350;\\r\\n            this.cx.drawImage(this.image, 0, 0, 600, 350);\\r\\n\\r\\n            for (let item of this.canvasModelData) {\\r\\n                this.cx.strokeStyle = this.drawColor(this.canvasModelData.indexOf(item));\\r\\n\\r\\n                let start_x: number = Math.round(item.x / this.widthRatio);\\r\\n                let start_y: number = Math.round(item.y / this.heightRatio);\\r\\n                let start_width: number = Math.round(item.width / this.widthRatio);\\r\\n                let start_height: number = Math.round(item.height / this.heightRatio);\\r\\n\\r\\n                this.cx.beginPath();\\r\\n                this.cx.rect(start_x, start_y, start_width, start_height);\\r\\n                this.cx.stroke();\\r\\n            }\\r\\n\\r\\n            if (isinitCanvas) this.initCanvas();\\r\\n        };\\r\\n    }\\r\\n    //#endregion Init\\r\\n\\r\\n    //#region Color\\r\\n    private drawColor(index: number = 0): string {\\r\\n        switch (index) {\\r\\n            case 0: // red\\r\\n            case 1: // green\\r\\n            case 2: // blue\\r\\n                break;\\r\\n            default:\\r\\n                this.roiColor.push(this.getRandomColor());\\r\\n                break;\\r\\n        }\\r\\n        return this.roiColor[index];\\r\\n    }\\r\\n\\r\\n    // 獲取生成RGB格式的隨機顏色值\\r\\n    // #ff0000ff 後兩位是透明度，數值越大，顏色越深\\r\\n    private getRandomColor(): string {\\r\\n        let colorCode: string = '#';\\r\\n        for (let i = 0; i < 8; i++) {\\r\\n            let randomColorCode: string = Math.floor(Math.random() * 16).toString(16);\\r\\n            colorCode += randomColorCode;\\r\\n        }\\r\\n        return colorCode;\\r\\n    }\\r\\n    //#endregion Color\\r\\n}\\r\\n</script>\\r\\n\\r\\n\\r\\n\\r\\n<style lang=\\\"scss\\\" scoped>\\r\\n.center {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n</style>\",\".center {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n/*# sourceMappingURL=web-x-component-roi.vue.map */\"]}, media: undefined });\n\n  };\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-26c6b560\";\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = false;\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/normalizeComponent(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    createInjector,\n    undefined,\n    undefined\n  );\n\nconst WebXComponentROIPlugin = {\r\n    install(Vue) {\r\n        Vue.component('web-x-component-roi', __vue_component__);\r\n    },\r\n};\n\nexport default __vue_component__;\nexport { roi as IComponent, WebXComponentROIPlugin };\n//# sourceMappingURL=web-x-component-roi.esm.js.map\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component } from 'vue-property-decorator';\r\nimport WebXRoi from '@advantech/web-x-component-roi';\r\nimport { IComponent } from '@/../models';\r\nimport { FakeData } from '@/helpers/fake-data';\r\n\r\ninterface IFormData {\r\n    roiImage: IComponent.ISnapshotData;\r\n    roiData: IComponent.ICanvasModel[];\r\n    drawRegionCount: number;\r\n}\r\n\r\n@Component({\r\n    components: { WebXRoi },\r\n})\r\nexport default class VuePageClass extends Vue {\r\n    private formDataOriginal: IFormData = {\r\n        roiImage: {\r\n            base64: FakeData.IMG,\r\n            width: 900,\r\n            height: 475,\r\n        },\r\n        roiData: [{ x: 10, y: 100, width: 100, height: 100 }],\r\n        drawRegionCount: 10,\r\n    };\r\n    private formData: IFormData = { ...this.formDataOriginal };\r\n\r\n    //////////////////// Vue Life ////////////////////\r\n\r\n    private async beforeCreate(): Promise<void> {}\r\n    private async created(): Promise<void> {}\r\n    private async beforeMount(): Promise<void> {}\r\n    private async mounted(): Promise<void> {}\r\n    private async beforeDestroy(): Promise<void> {}\r\n    private async destroyed(): Promise<void> {}\r\n\r\n    //////////////////// Init Data ////////////////////\r\n\r\n    //////////////////// Init Select Option  ////////////////////\r\n\r\n    //////////////////// Form Show ////////////////////\r\n\r\n    //////////////////// Form Set Data ////////////////////\r\n    private formROIClear(): void {\r\n        this.formData.roiData = [];\r\n    }\r\n\r\n    private formROIDraw(data: IComponent.ICanvasModel[]): void {\r\n        this.formData.roiData = data;\r\n    }\r\n\r\n    //////////////////// Modify API (save, delete, test)  ////////////////////\r\n\r\n    //////////////////// Resolve text ////////////////////\r\n\r\n    //////////////////// Modal ////////////////////\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roi.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roi.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./roi.vue?vue&type=template&id=4ed0a56a&scoped=true&\"\nimport script from \"./roi.vue?vue&type=script&lang=ts&\"\nexport * from \"./roi.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./roi.vue?vue&type=style&index=0&id=4ed0a56a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ed0a56a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}