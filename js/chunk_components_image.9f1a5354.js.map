{"version":3,"sources":["webpack:///./components/image/image_cropper.vue?134d","webpack:///./src/views/components/image.vue?9069","webpack:///./components/image/image_dark.vue?3fb5","webpack:///./components/image/image_dark.vue?a0bf","webpack:///./components/image/image_dark.vue?6238","webpack:///./components/image/image_dark.vue","webpack:///./components/image/image_light.vue?e7ec","webpack:///./components/image/image_light.vue?4734","webpack:///./components/image/image_light.vue?0663","webpack:///./components/image/image_light.vue","webpack:///./components/image/image_advanced.vue?a5a0","webpack:///./components/image/image_advanced.vue?162e","webpack:///./components/image/image_advanced.vue?6df3","webpack:///./components/image/image_advanced.vue","webpack:///./components/image/image_advanced_cropper_button.vue?069c","webpack:///./components/image/image_cropper_button.vue?69c0","webpack:///./components/image/image_cropper_button.vue?7bcf","webpack:///./components/image/image_cropper_button.vue?8026","webpack:///./components/image/image_cropper_button.vue","webpack:///./components/image/image_advanced_cropper_button.vue?769d","webpack:///./components/image/image_advanced_cropper_button.vue?f8fd","webpack:///./components/image/image_advanced_cropper_button.vue","webpack:///./src/views/components/image.vue?5322","webpack:///./src/views/components/image.vue?18ac","webpack:///./src/views/components/image.vue","webpack:///./components/image/image_advanced_cropper.vue?2e75","webpack:///./components/image/image_advanced_cropper.vue?4038","webpack:///./components/image/image_advanced_cropper.vue?1da5","webpack:///./components/image/image_advanced_cropper.vue","webpack:///./components/image/image_view.vue?7f84","webpack:///./components/image/image_view.vue?6b73","webpack:///./components/image/image_view.vue?52d0","webpack:///./components/image/image_view.vue","webpack:///./src/views/components/image.vue?0cdf","webpack:///./components/image/image_view.vue?00de","webpack:///./components/image/image_cropper.vue?3d78","webpack:///./components/image/image_cropper.vue?3ad2","webpack:///./components/image/image_cropper.vue?c92c","webpack:///./components/image/image_cropper.vue","webpack:///./components/image/image_advanced_cropper.vue?1f51","webpack:///./components/image/image_light.vue?4d2b","webpack:///./components/image/image_dark.vue?5ab6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$i18n","Component_Image_Title","attrs","Component_Image_Advanced_Cropper_Range","resolvePhotoIsUrlOrBase64","formData","design_advanced_cropper","on","formUploadImage","Component_Image_Advanced","design_advanced","Component_Image_Image_View","imageBase64","staticRenderFns","style","width","height","$event","showToolbox","clickUploadFile","faceImgSrc","class","dragging","ref","checkUploadFile","directives","name","rawName","value","expression","showDeleteIcon","clickDeleteFile","personEmptyDefault","isShowToolbox","initSrc","newVal","oldVal","src","isShow","$refs","uploadFile","click","uploadFileRef","files","file","base64","getBase64","result","$emit","id","undefined","isModify","type","String","default","Boolean","Number","immediate","deep","components","component","clickDownloadFile","clickViewOriginal","lightboxItem","visible","imgs","clickHide","use","isShowOriginalImage","index","downloadFile","content","fileName","aLink","document","createElement","blob","base64ToBlob","evt","Event","bubbles","cancelable","dispatchEvent","download","href","URL","createObjectURL","code","parts","split","contentType","raw","window","atob","rawLength","length","uInt8Array","Uint8Array","i","charCodeAt","Blob","clickCloseModal","model","callback","$$v","modalShow","imageUrl","cropItem","getCropperValue","option","img","size","outputType","full","canMove","canMoveBox","original","autoCrop","autoCropWidth","autoCropHeight","fixedBox","centerBox","realTime","imgLoad","changeScale","rotateLeft","rotateRight","changeLayer","downloadImage","submitPhoto","Button_Confirm","sendValueToParent","Button_Cancel","previews","canScale","fixed","fixedNumber","info","infoTrue","maxImgSize","cropper","getCropData","data","num","clearCrop","message","getCropBlob","canvas","ctx","getContext","fillStyle","fillRect","drawImage","ndata","toDataURL","base64Data","byteString","indexOf","unescape","mimeString","ia","Object","clickShowModal","FormImageCropperButton","Image4","formDataOriginal","image_view","design","dark_x","light_x","FormImageDark","FormImageLight","FormImageAdvanced","ImageView","FormImageAdvancedCropper","FormImageAdvancedCropperButton","Image_CropPhoto","e","target","dataTransfer","base64Img","isUrl","urlToBase64","isBase64Image","createEvent","initEvent","FormImageCropper","handleImageError","orignalSrc","_m","rangeValue","slectProportion","slect43","slect169","slectSquare","Image_Square","slectFree","Image_Free","showProportion","diff","parseInt","isNaN"],"mappings":"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","file":"js/chunk_components_image.9f1a5354.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_cropper.vue?vue&type=style&index=0&id=f15339cc&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"demo-image\"},[_c('i',{staticClass:\"fas fa-picture-o\"}),_vm._v(\" \"+_vm._s(_vm.$i18n.Component_Image_Title)+\" \")]),_c('b-row',{staticClass:\"mb-4\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('div',{staticClass:\"col-md-12 mb-2\"},[_vm._v(_vm._s(_vm.$i18n.Component_Image_Advanced_Cropper_Range))]),_c('div',{staticClass:\"col-md-12\"},[_c('form-image-advanced-cropper',{attrs:{\"src\":_vm.resolvePhotoIsUrlOrBase64(_vm.formData.design_advanced_cropper)},on:{\"upload-image\":_vm.formUploadImage}})],1)]),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('div',{staticClass:\"col-md-12 mb-2\"},[_vm._v(_vm._s(_vm.$i18n.Component_Image_Advanced))]),_c('div',{staticClass:\"col-md-12\"},[_c('form-image-advanced',{attrs:{\"src\":_vm.resolvePhotoIsUrlOrBase64(_vm.formData.design_advanced)},on:{\"upload-image\":_vm.formUploadImage}})],1)])],1),_c('b-row',{staticClass:\"mt-5\"},[_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('div',{staticClass:\"col-md-12 mb-2\"},[_vm._v(_vm._s(_vm.$i18n.Component_Image_Image_View))]),_c('div',{staticClass:\"col-md-12\"},[_c('image-view',{attrs:{\"src\":_vm.imageBase64,\"orignalSrc\":_vm.imageBase64}})],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-box\"},[(_vm.isModify)?_c('div',{staticClass:\"form-image\",style:('width:' + _vm.width + 'px;' + 'height:' + _vm.height + 'px;'),on:{\"mouseover\":function($event){return _vm.showToolbox(true)},\"mouseout\":function($event){return _vm.showToolbox(false)}}},[_c('div',{on:{\"click\":_vm.clickUploadFile}},[_c('img',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc}})]),_c('div',{class:['drop-zone', _vm.dragging ? 'drop-zone-dropping' : ''],on:{\"dragestart\":function($event){_vm.dragging = true},\"dragenter\":function($event){_vm.dragging = true},\"dragleave\":function($event){_vm.dragging = false}}},[_c('input',{ref:\"uploadFile\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"input\":_vm.checkUploadFile}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowToolbox),expression:\"isShowToolbox\"}],on:{\"click\":_vm.clickUploadFile}},[_c('div',{staticClass:\"up-img\"})])]):_c('div',[_c('img',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc}})]),_c('div',{staticClass:\"delete-icon-position\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDeleteIcon()),expression:\"showDeleteIcon()\"}],staticClass:\"delete-icon\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":_vm.clickDeleteFile}},[_c('i',{staticClass:\"fas fa-times-circle\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\nimport { ServiceBase64, personEmpty } from '@/../helpers';\r\n\r\n@Component({\r\n    components: {},\r\n})\r\nexport default class FormImageDark extends Vue {\r\n    //////////////////// prop ////////////////////\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: '',\r\n    })\r\n    private id: string;\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: personEmpty,\r\n    })\r\n    private src: string;\r\n\r\n    @Prop({\r\n        type: Boolean,\r\n        default: true,\r\n    })\r\n    private isModify: boolean;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: 150,\r\n    })\r\n    private width: number;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: null,\r\n    })\r\n    private height: number;\r\n\r\n    //////////////////// variable ////////////////////\r\n    private personEmptyDefault: string = personEmpty;\r\n    private faceImgSrc: string = this.personEmptyDefault;\r\n    private dragging: boolean = false;\r\n    private isShowToolbox: boolean = false;\r\n\r\n    //////////////////// vue life ////////////////////\r\n    private created() {}\r\n\r\n    private mounted() {\r\n        this.initSrc();\r\n    }\r\n\r\n    @Watch('src', { immediate: true, deep: true })\r\n    private formSrcChanged(newVal: string, oldVal: string) {\r\n        this.initSrc();\r\n    }\r\n\r\n    //////////////////// Init Data ////////////////////\r\n    private initSrc() {\r\n        this.faceImgSrc = this.src;\r\n    }\r\n\r\n    //////////////////// show Icon ////////////////////\r\n    private showToolbox(isShow): void {\r\n        this.isShowToolbox = isShow;\r\n    }\r\n\r\n    //////////////////// upload ////////////////////\r\n\r\n    // 點擊觸發 input 的 ref\r\n    private clickUploadFile(): void {\r\n        (this.$refs.uploadFile as any).click();\r\n    }\r\n\r\n    // 點擊 input 後 上傳檔案\r\n    private checkUploadFile(): void {\r\n        let uploadFileRef: any = this.$refs.uploadFile;\r\n        this.uploadFile(uploadFileRef.files[0]);\r\n        uploadFileRef.value = '';\r\n        this.dragging = false;\r\n    }\r\n\r\n    // 處理 file to base64\r\n    private async uploadFile(file): Promise<void> {\r\n        let base64: any = null;\r\n        base64 = await ServiceBase64.getBase64(file);\r\n\r\n        if (base64.result) this.faceImgSrc = base64.result;\r\n        this.$emit('upload-image', this.faceImgSrc, this.id);\r\n    }\r\n\r\n    //////////////////// delete ////////////////////\r\n    private clickDeleteFile(): void {\r\n        this.faceImgSrc = this.personEmptyDefault;\r\n        this.$emit('upload-image', undefined, this.id);\r\n    }\r\n\r\n    private showDeleteIcon(): boolean {\r\n        if (this.isModify === false) {\r\n            return false;\r\n        }\r\n        if (this.faceImgSrc !== this.personEmptyDefault) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_dark.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_dark.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image_dark.vue?vue&type=template&id=7b1641a1&scoped=true&\"\nimport script from \"./image_dark.vue?vue&type=script&lang=ts&\"\nexport * from \"./image_dark.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./image_dark.vue?vue&type=style&index=0&id=7b1641a1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b1641a1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-box\"},[(_vm.isModify)?_c('div',{staticClass:\"form-image\",style:('width:' + _vm.width + 'px;' + 'height:' + _vm.height + 'px;'),on:{\"mouseover\":function($event){return _vm.showToolbox(true)},\"mouseout\":function($event){return _vm.showToolbox(false)}}},[_c('div',{on:{\"click\":_vm.clickUploadFile}},[_c('img',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc}})]),_c('div',{class:['drop-zone', _vm.dragging ? 'drop-zone-dropping' : ''],on:{\"dragestart\":function($event){_vm.dragging = true},\"dragenter\":function($event){_vm.dragging = true},\"dragleave\":function($event){_vm.dragging = false}}},[_c('input',{ref:\"uploadFile\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"input\":_vm.checkUploadFile}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowToolbox),expression:\"isShowToolbox\"}],on:{\"click\":_vm.clickUploadFile}},[_c('div',{staticClass:\"up-img\"})])]):_c('div',[_c('img',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc}})]),_c('div',{staticClass:\"delete-icon-position\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDeleteIcon()),expression:\"showDeleteIcon()\"}],staticClass:\"delete-icon\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":_vm.clickDeleteFile}},[_c('i',{staticClass:\"fas fa-times-circle\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\nimport { ServiceBase64, personEmpty } from '@/../helpers';\r\n\r\n@Component({\r\n    components: {},\r\n})\r\nexport default class FormImageLight extends Vue {\r\n    //////////////////// prop ////////////////////\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: '',\r\n    })\r\n    private id: string;\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: personEmpty,\r\n    })\r\n    private src: string;\r\n\r\n    @Prop({\r\n        type: Boolean,\r\n        default: true,\r\n    })\r\n    private isModify: boolean;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: 150,\r\n    })\r\n    private width: number;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: null,\r\n    })\r\n    private height: number;\r\n\r\n    //////////////////// variable ////////////////////\r\n\r\n    private personEmptyDefault: string =\r\n        'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCABkAGQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD5/ooor9IPnwooooAKKGbauTwB1J7V2Xw9/Z1+IXxbsVuvC3gTxl4is5Pu3Wn6NcXFsf8AtqqFP/HqmUlFXkw32ONor1bUf2FPjVpds003wn+IDIoyfJ0SeZv++UVj+leZ65ol94X1iXTtUsb3S9Rt/wDW2l5bvbzxf7yOAw/EUo1IS+Fpjaa3KtFFFWIKKKKAEY80UE0VEtyRaKKKsoKGbaMngDqaKveFdKh17xVpVjcgtbX17BbTAd0eRVb9CaAP08/4Jk/8Ey/Dfgz4caL8QviDo1rrvizXYI9Q07TtQhEtrodu4DQsYWG17llKuWcHysqqhXVmb7keVpMbmZtowMnoKdeKqXcqqqqquQFUYCjPQD0qOvgsRiJ1p883/wAA9KMVFWQVyXxr+BPg/wDaM8IPofjbQLDxBp5UiI3CYns2P8cEwxJC/wDtIwPY5BIPW0VlGTi7x3K33Pw1/bk/ZIvv2NPjvdeGJLibUtFvYRqOh6hKoD3VozMoWTAC+dGysj4wDhXAUOoHjtfpR/wX10i3k8FfC3UCi/a4dQ1K1V8cmN4rd2B/4FGpH4+pr816+2y+tKrQjOW/+R59SPLKyCiiiuwzEbrRQ3WioluSLRRRVlBWx8PRu+Ifh4DktqtoAB3PnpWPX0J/wSl0W117/goP8N4byCO4ihmv7tFdchZodNu5on/3kkRHB7MoPas61Tkpyn2TZUVdpH7W3x/02b/fb+dRUUV+fnpBRRRQB8C/8F8h/wAWx+GR7f2xfDPv5Ef+B/KvzNr9mv8Agrpotrq//BPjx1NcwRzS6XNpl3aMwybeX+0rWEuvofLmlTP92Rh3r8Za+uyWpzYa3Ztfr+pw4he+FFFFesYiN1opG60VEtyR1FFFWUFeqfsSfHfT/wBmb9qvwb441iGebSNGuJ474QpvkjguLaa2kkVerGNZi+0ctswOTXldBGRU1IKcXCWz0GnZ3R/RNpuo2+sabb3lnNHc2l5ElxBMn3Zo3UMrD2KkEfWpq+W/+CRf7SEPxz/ZN07Q7q4D+Ifh2I9DvIy3zvahT9imx/dMK+VnqWtnPcV9SV8HXoulUdN9D0YyurhRRWP8QfH2kfCrwLrHibxBdrY6JoNpJfXs55KRoMkKP4nbhVUcszKo5IrJJt2RR8f/APBZb9rHwt4Z+Aus/Ce3vFvvGXiZ7Frq0iBP9lWsdxDdiWVsbQ0nlIqpncRIWICgFvyrrqvjp8X9R+P/AMZPE3jbVl8q+8TX8l40O7cLWM4WKAHusUSxxg9wgrla+3wOFWHpKHXd+p59SfNK4UUUV2GYjdaKG60VEtyRaKKKsoKKKKAPo7/gk5471bwZ+3b4MtdNvJLa18SG40vU4Ryl5b/Z5JQjD/ZkijcEcgr6Eg/s9X5X/wDBHX9jTxJ4w+Mmi/FzULf+z/Bvh37UdOmdxv1i8MclsVjUHcI4i7sznALoqDd8+z9UK+SzqcJV/d6LX11O7DpqOoV8B/8ABe3x/rGifD/4a+GbS+lt9E8SXepXep2ycC8e0Fl9nDnqVRriRtvQsEYjKKR9+V8j/wDBXz9kfX/2l/g1oOteFoRf634Bmu7ltP3hHvLOdIvPMZYgGRDbxMFJG5Q4GW2q3NlsoxxMZT2/4Gn4lVU3B2PyLopEcSIGXlWGQfWlr7Y88KKKKAEY80UN1oqJbki0UVufDj4Z+IvjD4vt/D/hTRNS8Ra1dDMdnYwmWQLwC7dkQZGXchV6kgU+ZJXZRh13f7P37NHjj9qPxeNF8E6FcarLG6rd3jAx2GmK38dxORtjGMnby7YIRWPFfcv7KX/BD+1svs2s/GLUheTcSDw1pFwVhX/ZubtcM/oUg2gEcSsOK++PBfgrR/hx4WtND8PaTp2h6NYrtt7Gwt1t7eLPUhFAGT1J6k8kk8142KzqnD3aPvPv0/4J0Qw7esjnP2bfgfY/s1/Ajwv4F0+4a8t/Dtn5L3JTYbud3aWebbztDzSSMFydoYDJxmu3oor5iUnJuUt2dm2gUFEkUrJGssbDa6OMq6nqD7EcUUVIH4k/tsfsD+LP2OfGupM2m32ofD9rgnSdeiQy26wM37uG5Yf6mdQQhD7Q5UshYHjwkHNf0VTRLcW8kMiLJDMhjkjdQyyKRgqwPBBHBB4Ir5F/ag/4I3/Df40/aNT8HH/hXHiGTL7bGDzNJuW/27XI8rPAzAyKOSY3NfSYTOk7Rr/f/mcs8P1ifkfRXrX7TH7D/wASv2S7p38XaBIdF8wRxa7pzG60uYk4X96ADExPASZY3PZSOa8lzXu06kZrmg7o5mmtGNbrRSt1ooluQdv+zV8NbH4zftC+B/COqTXlvpvibW7XTbqW0ZVnjjlkVWKFlZQ2DwSpHtX7lfBn4DeD/wBnPwj/AMI/4K8P6f4f01SDKLdCZrx14Ek8rEyTP/tSMxA4GBgUUV8/nspe5G+mp2YbqzrKKKK+eOoKKKKACiiigAooooAbPDHd2s0E0cc0FwjRSxyKGSVGGCrKeCpHBB4Ir80P+Cxn7FXw9+BXgvw/468G6P8A8I3f69rLabe6fZMI9NYeS0vmJBjET5UDEZWPGfkzzRRXpZTOSxCSejMa3wnwIRmiiivrThP/2Q==';\r\n    private faceImgSrc: string = this.personEmptyDefault;\r\n\r\n    private dragging: boolean = false;\r\n    private isShowToolbox: boolean = false;\r\n\r\n    //////////////////// vue life ////////////////////\r\n\r\n    private created(): void {}\r\n\r\n    private mounted(): void {\r\n        this.faceImgSrc = this.personEmptyDefault;\r\n    }\r\n\r\n    @Watch('src', { immediate: true, deep: true })\r\n    private formSrcChanged(newVal: string, oldVal: string): void {\r\n        this.initSrc();\r\n    }\r\n\r\n    //////////////////// Init Data ////////////////////\r\n\r\n    private initSrc(): void {\r\n        this.faceImgSrc = this.src;\r\n    }\r\n\r\n    //////////////////// show Icon ////////////////////\r\n    private showToolbox(isShow): void {\r\n        this.isShowToolbox = isShow;\r\n    }\r\n\r\n    //////////////////// upload ////////////////////\r\n\r\n    // 點擊觸發 input 的 ref\r\n    private clickUploadFile(): void {\r\n        (this.$refs.uploadFile as any).click();\r\n    }\r\n\r\n    // 點擊 input 後 上傳檔案\r\n    private checkUploadFile(): void {\r\n        let uploadFileRef: any = this.$refs.uploadFile;\r\n        this.uploadFile(uploadFileRef.files[0]);\r\n        uploadFileRef.value = '';\r\n        this.dragging = false;\r\n    }\r\n\r\n    // 處理 file to base64\r\n    private async uploadFile(file): Promise<void> {\r\n        let base64: any = null;\r\n        base64 = await ServiceBase64.getBase64(file);\r\n\r\n        if (base64.result) this.faceImgSrc = base64.result;\r\n        this.$emit('upload-image', this.faceImgSrc, this.id);\r\n    }\r\n\r\n    //////////////////// delete ////////////////////\r\n    private clickDeleteFile(): void {\r\n        this.faceImgSrc = this.personEmptyDefault;\r\n        this.$emit('upload-image', undefined, this.id);\r\n    }\r\n\r\n    private showDeleteIcon(): boolean {\r\n        if (this.isModify === false) {\r\n            return false;\r\n        }\r\n        if (this.faceImgSrc !== this.personEmptyDefault) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_light.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_light.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image_light.vue?vue&type=template&id=6c341524&scoped=true&\"\nimport script from \"./image_light.vue?vue&type=script&lang=ts&\"\nexport * from \"./image_light.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./image_light.vue?vue&type=style&index=0&id=6c341524&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c341524\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-box\"},[(_vm.isModify)?_c('div',{staticClass:\"form-image\",on:{\"mouseover\":function($event){return _vm.showToolbox(true)},\"mouseout\":function($event){return _vm.showToolbox(false)}}},[_c('img',{staticClass:\"contain\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc}}),_c('div',{class:['drop-zone', _vm.dragging ? 'drop-zone-dropping' : ''],on:{\"dragestart\":function($event){_vm.dragging = true},\"dragenter\":function($event){_vm.dragging = true},\"dragleave\":function($event){_vm.dragging = false}}},[_c('input',{ref:\"uploadFile\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"input\":_vm.checkUploadFile}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowToolbox),expression:\"isShowToolbox\"}]},[_c('div',{staticClass:\"up-img\"}),(_vm.faceImgSrc !== _vm.personEmptyDefault)?_c('div',[_c('div',[_c('b-button',{staticClass:\"btn-upload\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickUploadFile}},[_c('i',{staticClass:\"fas fa-upload\"})])],1),_c('div',[_c('b-button',{staticClass:\"btn-download\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickDownloadFile}},[_c('i',{staticClass:\"fas fa-download\"})])],1),_c('div',[_c('b-button',{staticClass:\"btn-close\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickDeleteFile}},[_c('i',{staticClass:\"fas fa-times\"})])],1),_c('div',[_c('b-button',{staticClass:\"btn-view\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickViewOriginal}},[_c('i',{staticClass:\"fas fa-eye\"})])],1)]):_c('div',[_c('b-button',{staticClass:\"btn-upload-only\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickUploadFile}},[_c('i',{staticClass:\"fas fa-upload\"})])],1)])]):_c('div',[_c('img',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowOriginalImage),expression:\"isShowOriginalImage\"}]},[_c('vue-easy-lightbox',{attrs:{\"escDisabled\":\"\",\"moveDisabled\":\"\",\"visible\":_vm.lightboxItem.visible,\"imgs\":_vm.lightboxItem.imgs},on:{\"hide\":_vm.clickHide}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\nimport { ServiceBase64, personEmpty } from '@/../helpers';\r\n\r\n// vue-easy-lightbox\r\nimport Lightbox from 'vue-easy-lightbox';\r\nVue.use(Lightbox);\r\n\r\ninterface ILightboxItem {\r\n    imgs: string;\r\n    visible: boolean;\r\n    index: number;\r\n}\r\n\r\n@Component({\r\n    components: {},\r\n})\r\nexport default class FormImageAdvanced extends Vue {\r\n    //////////////////// prop ////////////////////\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: '',\r\n    })\r\n    private id: string;\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: personEmpty,\r\n    })\r\n    private src: string;\r\n\r\n    @Prop({\r\n        type: Boolean,\r\n        default: true,\r\n    })\r\n    private isModify: boolean;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: 150,\r\n    })\r\n    private width: number;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: 150,\r\n    })\r\n    private height: number;\r\n\r\n    //////////////////// variable ////////////////////\r\n\r\n    private personEmptyDefault: string = personEmpty;\r\n    private faceImgSrc: string = this.personEmptyDefault;\r\n    private isShowToolbox: boolean = false;\r\n    private isShowOriginalImage: boolean = false;\r\n    private dragging: boolean = false;\r\n\r\n    private lightboxItem: ILightboxItem = {\r\n        imgs: '', // Img Url , string or Array\r\n        visible: false,\r\n        index: 0, // default: 0\r\n    };\r\n\r\n    //////////////////// vue life ////////////////////\r\n\r\n    private created(): void {}\r\n\r\n    private mounted(): void {\r\n        this.initSrc();\r\n    }\r\n\r\n    @Watch('src', { immediate: true, deep: true })\r\n    private formSrcChanged(newVal: string, oldVal: string): void {\r\n        this.initSrc();\r\n    }\r\n\r\n    //////////////////// Init Data ////////////////////\r\n    private initSrc(): void {\r\n        this.faceImgSrc = this.src;\r\n    }\r\n\r\n    //////////////////// show Icon ////////////////////\r\n    private showToolbox(isShow): void {\r\n        this.isShowToolbox = isShow;\r\n    }\r\n\r\n    //////////////////// upload ////////////////////\r\n\r\n    // 點擊觸發 input 的 ref\r\n    private clickUploadFile(): void {\r\n        (this.$refs.uploadFile as any).click();\r\n    }\r\n\r\n    // 點擊 input 後 上傳檔案\r\n    private checkUploadFile(): void {\r\n        let uploadFileRef: any = this.$refs.uploadFile;\r\n        this.uploadFile(uploadFileRef.files[0]);\r\n        uploadFileRef.value = '';\r\n        this.dragging = false;\r\n        this.isShowToolbox = false;\r\n    }\r\n\r\n    // 處理 file to base64\r\n    private async uploadFile(file): Promise<void> {\r\n        let base64: any = null;\r\n        base64 = await ServiceBase64.getBase64(file);\r\n\r\n        if (base64.result) this.faceImgSrc = base64.result;\r\n        this.$emit('upload-image', this.faceImgSrc, this.id);\r\n    }\r\n\r\n    //////////////////// delete ////////////////////\r\n    private clickDeleteFile(): void {\r\n        this.faceImgSrc = this.personEmptyDefault;\r\n        this.$emit('upload-image', undefined, this.id);\r\n    }\r\n\r\n    //////////////////// download ////////////////////\r\n    //下載圖片\r\n    private clickDownloadFile(): void {\r\n        this.downloadFile(this.faceImgSrc);\r\n    }\r\n\r\n    //檔案下載\r\n    private downloadFile(content: string, fileName: string = 'photo.png'): void {\r\n        const aLink: HTMLAnchorElement = document.createElement('a');\r\n        let blob = this.base64ToBlob(content);\r\n        const evt = new Event('click', { bubbles: true, cancelable: true });\r\n\r\n        aLink.dispatchEvent(evt);\r\n        aLink.download = fileName;\r\n        aLink.href = URL.createObjectURL(blob);\r\n\r\n        // aLink.dispatchEvent(evt);\r\n        aLink.click();\r\n    }\r\n\r\n    // base64轉blob\r\n    private base64ToBlob(code: string): Blob {\r\n        let parts = code.split(';base64,');\r\n        let contentType = parts[0].split(':')[1];\r\n        let raw = window.atob(parts[1]);\r\n        let rawLength = raw.length;\r\n\r\n        let uInt8Array = new Uint8Array(rawLength);\r\n\r\n        for (let i = 0; i < rawLength; ++i) {\r\n            uInt8Array[i] = raw.charCodeAt(i);\r\n        }\r\n        return new Blob([uInt8Array], { type: contentType });\r\n    }\r\n\r\n    //////////////////// view original ////////////////////\r\n    private clickViewOriginal(): void {\r\n        this.isShowOriginalImage = true;\r\n        this.lightboxItem = {\r\n            imgs: this.faceImgSrc, // Img Url , string or Array\r\n            visible: true,\r\n            index: 0, // default: 0\r\n        };\r\n    }\r\n\r\n    private clickHide(): void {\r\n        this.lightboxItem.visible = false;\r\n        this.isShowOriginalImage = false;\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_advanced.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_advanced.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image_advanced.vue?vue&type=template&id=37fc9426&scoped=true&\"\nimport script from \"./image_advanced.vue?vue&type=script&lang=ts&\"\nexport * from \"./image_advanced.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37fc9426\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-box\"},[(_vm.isModify)?_c('div',{staticClass:\"form-image\",on:{\"mouseover\":function($event){return _vm.showToolbox(true)},\"mouseout\":function($event){return _vm.showToolbox(false)}}},[_c('img',{staticClass:\"contain\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc}}),_c('div',{class:['drop-zone', _vm.dragging ? 'drop-zone-dropping' : ''],on:{\"dragestart\":function($event){_vm.dragging = true},\"dragenter\":function($event){_vm.dragging = true},\"dragleave\":function($event){_vm.dragging = false}}},[_c('input',{ref:\"uploadFile\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"input\":_vm.checkUploadFile}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowToolbox),expression:\"isShowToolbox\"}]},[_c('div',{staticClass:\"up-img\"}),(_vm.faceImgSrc !== _vm.personEmptyDefault)?_c('div',[_c('div',[_c('b-button',{staticClass:\"btn-upload\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickUploadFile}},[_c('i',{staticClass:\"fas fa-upload\"})])],1),_c('div',[_c('b-button',{staticClass:\"btn-download\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickDownloadFile}},[_c('i',{staticClass:\"fas fa-download\"})])],1),_c('div',[_c('b-button',{staticClass:\"btn-close\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickDeleteFile}},[_c('i',{staticClass:\"fas fa-times\"})])],1),_c('div',[_c('b-button',{staticClass:\"btn-view\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickViewOriginal}},[_c('i',{staticClass:\"fas fa-eye\"})])],1)]):_c('div',[_c('b-button',{staticClass:\"btn-upload-only\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickUploadFile}},[_c('i',{staticClass:\"fas fa-upload\"})])],1)])]):_c('div',[_c('img',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowOriginalImage),expression:\"isShowOriginalImage\"}]},[_c('vue-easy-lightbox',{attrs:{\"escDisabled\":\"\",\"moveDisabled\":\"\",\"visible\":_vm.lightboxItem.visible,\"imgs\":_vm.lightboxItem.imgs},on:{\"hide\":_vm.clickHide}})],1),_c('b-modal',{attrs:{\"hide-footer\":true,\"title\":\"Crop Photo\",\"size\":\"lg\",\"centered\":\"\"},on:{\"close\":_vm.clickCloseModal,\"hide\":_vm.clickCloseModal},model:{value:(_vm.modalShow),callback:function ($$v) {_vm.modalShow=$$v},expression:\"modalShow\"}},[_c('form-image-cropper-button',{attrs:{\"imgFile\":_vm.imageUrl,\"cropItem\":_vm.cropItem},on:{\"cropper-value\":_vm.getCropperValue}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crop-button\"},[_c('div',{staticClass:\"img-crop\"},[_c('div',{staticClass:\"imgCrop-content\"},[_c('div',{staticClass:\"cropper-content\"},[_c('vueCropper',{ref:\"cropper\",attrs:{\"img\":_vm.option.img,\"outputSize\":_vm.option.size,\"outputType\":_vm.option.outputType,\"info\":true,\"full\":_vm.option.full,\"canMove\":_vm.option.canMove,\"canMoveBox\":_vm.option.canMoveBox,\"original\":_vm.option.original,\"autoCrop\":_vm.option.autoCrop,\"autoCropWidth\":_vm.option.autoCropWidth,\"autoCropHeight\":_vm.option.autoCropHeight,\"fixedBox\":_vm.option.fixedBox,\"centerBox\":_vm.option.centerBox},on:{\"realTime\":_vm.realTime,\"imgLoad\":_vm.imgLoad}})],1)]),_c('div',{staticClass:\"btn-content mt-4\"},[_c('b-button',{staticClass:\"btn-zoom-in\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.changeScale(1)}}},[_c('i',{staticClass:\"fas fa-plus\"})]),_c('b-button',{staticClass:\"btn-zoom-out\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.changeScale(-1)}}},[_c('i',{staticClass:\"fas fa-minus\"})]),_c('b-button',{staticClass:\"btn\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":_vm.rotateLeft}},[_c('i',{staticClass:\"fas fa-undo\"})]),_c('b-button',{staticClass:\"btn\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":_vm.rotateRight}},[_c('i',{staticClass:\"fas fa-redo-alt\"})]),_c('b-button',{staticClass:\"btn\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":_vm.changeLayer}},[_c('i',{staticClass:\"far fa-square\"})]),_c('b-button',{staticClass:\"btn\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.downloadImage('blob')}}},[_c('i',{staticClass:\"fas fa-download\"})])],1)]),_c('div',{staticClass:\"button-group-center mb-1\"},[_c('b-button',{staticClass:\"button-confirm\",attrs:{\"size\":\"md\"},on:{\"click\":_vm.submitPhoto}},[_vm._v(_vm._s(_vm.$i18n.Button_Confirm))]),_c('b-button',{staticClass:\"button-cancel ml-3\",attrs:{\"size\":\"md\"},on:{\"click\":_vm.sendValueToParent}},[_vm._v(_vm._s(_vm.$i18n.Button_Cancel))])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\nimport { IComponent } from '@/../models';\r\n\r\n// VueCropper\r\nimport VueCropper from 'vue-cropper';\r\nVue.use(VueCropper);\r\n\r\n// vue-easy-lightbox\r\nimport Lightbox from 'vue-easy-lightbox';\r\nVue.use(Lightbox);\r\n\r\ninterface ILightboxItem {\r\n    imgs: string;\r\n    visible: boolean;\r\n    index: number;\r\n}\r\n\r\ninterface IOption extends IComponent.ICropItem {\r\n    img: string;\r\n}\r\n\r\n@Component({\r\n    components: {},\r\n})\r\nexport default class FormImageCropperButton extends Vue {\r\n    //////////////////// prop ////////////////////\r\n\r\n    @Prop({\r\n        type: Object,\r\n        default: () => {},\r\n    })\r\n    private cropItem: IComponent.ICropItem;\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: () => undefined,\r\n    })\r\n    private imgFile: string;\r\n\r\n    //////////////////// variable ////////////////////\r\n\r\n    private imageUrl: string = '';\r\n\r\n    //剪切圖片上傳\r\n    private previews: any = {};\r\n    private option: IOption = {\r\n        img: '', // 裁剪圖片的地址\r\n\r\n        size: 1, //剪切後的圖片質量（0.1 - 1）\r\n        outputType: 'png', // 裁剪生成圖片的格式 jpeg (jpg 需要传入jpeg) || png || webp\r\n\r\n        full: true, //是否輸出原圖比例的截圖\r\n\r\n        canScale: false, // 圖片是否允許滾輪縮放\r\n        canMove: true, // 上傳圖片是否可以移動\r\n        canMoveBox: true, // 截圖框能否拖動\r\n\r\n        autoCrop: false, // 是否默認生成截圖框\r\n        autoCropWidth: 150, // 默認生成截圖框寬度（0 - max）\r\n        autoCropHeight: 150, // 默認生成截圖框高度（0 - max）\r\n\r\n        fixed: true, // 是否開啟截圖框寬高固定比例\r\n        fixedNumber: [1, 1], // 截圖框的寬高比例 [寬度, 高度]\r\n        fixedBox: true, // 固定截圖框大小 不允許改變\r\n\r\n        original: false, // 上傳圖片按照原始比例渲染\r\n\r\n        centerBox: true, // 截圖框是否被限制在圖片裡面\r\n\r\n        info: true, // 裁剪框的大小信息\r\n        infoTrue: true, // true 為展示真實輸出圖片寬高 false 展示看到的截圖框寬高\r\n\r\n        maxImgSize: 2000, // 0 - max 限制圖片最大寬度和高度\r\n    };\r\n\r\n    //////////////////// vue life ////////////////////\r\n\r\n    // 參考資料：https://blog.csdn.net/qq_39800789/article/details/105615181\r\n\r\n    private created(): void {}\r\n    private mounted(): void {\r\n        this.changeLayer();\r\n    }\r\n\r\n    @Watch('cropItem', { immediate: true, deep: true })\r\n    private cropItemChanged(newVal: IComponent.ICropItem, oldVal: IComponent.ICropItem): void {\r\n        this.option.size = newVal.size;\r\n        this.option.outputType = newVal.outputType;\r\n        this.option.full = newVal.full;\r\n        this.option.canScale = newVal.canScale;\r\n        this.option.canMove = newVal.canMove;\r\n        this.option.canMoveBox = newVal.canMoveBox;\r\n        this.option.autoCrop = newVal.autoCrop;\r\n        this.option.autoCropWidth = newVal.autoCropWidth;\r\n        this.option.autoCropHeight = newVal.autoCropHeight;\r\n        this.option.fixed = newVal.fixed;\r\n        this.option.fixedNumber = newVal.fixedNumber;\r\n        this.option.fixedBox = newVal.fixedBox;\r\n        this.option.original = newVal.original;\r\n        this.option.centerBox = newVal.centerBox;\r\n        this.option.info = newVal.info;\r\n        this.option.infoTrue = newVal.infoTrue;\r\n        this.option.maxImgSize = newVal.maxImgSize;\r\n    }\r\n\r\n    @Watch('imgFile', { immediate: true, deep: true })\r\n    private imgFileChanged(newVal: string, oldVal: string): void {\r\n        this.option.img = newVal;\r\n        this.imageUrl = newVal;\r\n    }\r\n\r\n    //////////////////// 將值傳遞給父元件 ////////////////////\r\n    private sendValueToParent(): void {\r\n        this.$emit('cropper-value', this.imageUrl);\r\n    }\r\n\r\n    //////////////////// 上傳圖片 ////////////////////\r\n    private submitPhoto(): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        // 獲取截圖的base64 數據\r\n        cropper.getCropData((data) => {\r\n            this.imageUrl = data;\r\n            this.sendValueToParent();\r\n        });\r\n    }\r\n\r\n    //////////////////// * 圖片調整開始 * ////////////////////\r\n    //放大/縮小\r\n    private changeScale(num: number): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        num = num || 1;\r\n        cropper.changeScale(num);\r\n    }\r\n\r\n    //左旋轉\r\n    private rotateLeft(): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        cropper.rotateLeft();\r\n    }\r\n\r\n    //右旋轉\r\n    private rotateRight(): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        cropper.rotateRight();\r\n    }\r\n\r\n    // 選擇範圍大小\r\n    private changeLayer(): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        this.option.autoCrop = !this.option.autoCrop;\r\n        if (!this.option.autoCrop) {\r\n            cropper.clearCrop(); //清除截圖\r\n        }\r\n    }\r\n\r\n    // 實時預覽函數\r\n    private realTime(data: any): void {\r\n        this.previews = data;\r\n    }\r\n\r\n    private imgLoad(message: string): void {\r\n        // console.log('imgLoad => ', message);\r\n    }\r\n\r\n    //////////////////// * 圖片調整結束 * ////////////////////\r\n\r\n    //下載圖片\r\n    private downloadImage(type): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        var aLink = document.createElement('a');\r\n        aLink.download = 'photo';\r\n        if (type === 'blob') {\r\n            cropper.getCropBlob((data) => {\r\n                aLink.href = window.URL.createObjectURL(data);\r\n                aLink.click();\r\n            });\r\n        } else {\r\n            cropper.getCropData((data) => {\r\n                aLink.href = data;\r\n                aLink.click();\r\n            });\r\n        }\r\n    }\r\n\r\n    // 壓縮圖片\r\n    private compressImage(img): string {\r\n        let canvas = document.createElement('canvas'),\r\n            ctx = canvas.getContext('2d'),\r\n            initSize = img.src.length,\r\n            width = img.width,\r\n            height = img.height;\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        // 鋪底色\r\n        ctx.fillStyle = '#fff';\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        ctx.drawImage(img, 0, 0, width, height);\r\n        //進行壓縮\r\n        let ndata = canvas.toDataURL('image/jpeg', 0.8);\r\n        //console.log(\"壓縮後的圖片大小：\" + ndata.length)\r\n        return ndata;\r\n    }\r\n\r\n    // base64轉成bolb對像\r\n    private dataURItoBlob(base64Data): Blob {\r\n        let byteString;\r\n        if (base64Data.split(',')[0].indexOf('base64') >= 0) byteString = atob(base64Data.split(',')[1]);\r\n        else byteString = unescape(base64Data.split(',')[1]);\r\n        let mimeString = base64Data.split(',')[0].split(':')[1].split(';')[0];\r\n        let ia = new Uint8Array(byteString.length);\r\n        for (let i = 0; i < byteString.length; i++) {\r\n            ia[i] = byteString.charCodeAt(i);\r\n        }\r\n        return new Blob([ia], { type: mimeString });\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_cropper_button.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_cropper_button.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image_cropper_button.vue?vue&type=template&id=678bb29e&scoped=true&\"\nimport script from \"./image_cropper_button.vue?vue&type=script&lang=ts&\"\nexport * from \"./image_cropper_button.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"678bb29e\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\nimport { ServiceBase64, personEmpty } from '@/../helpers';\r\nimport { IComponent } from '@/../models';\r\n\r\nimport FormImageCropperButton from './image_cropper_button.vue';\r\n\r\n// vue-easy-lightbox\r\nimport Lightbox from 'vue-easy-lightbox';\r\nVue.use(Lightbox);\r\n\r\ninterface ILightboxItem {\r\n    imgs: string;\r\n    visible: boolean;\r\n    index: number;\r\n}\r\n\r\n@Component({\r\n    components: { FormImageCropperButton },\r\n})\r\nexport default class FormImageAdvancedCropperButton extends Vue {\r\n    //////////////////// prop ////////////////////\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: '',\r\n    })\r\n    private id: string;\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: personEmpty,\r\n    })\r\n    private src: string;\r\n\r\n    @Prop({\r\n        type: Boolean,\r\n        default: true,\r\n    })\r\n    private isModify: boolean;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: 150,\r\n    })\r\n    private width: number;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: 150,\r\n    })\r\n    private height: number;\r\n\r\n    //////////////////// variable ////////////////////\r\n\r\n    private personEmptyDefault: string = personEmpty;\r\n    private faceImgSrc: string = this.personEmptyDefault;\r\n    private isShowToolbox: boolean = false;\r\n    private isShowOriginalImage: boolean = false;\r\n\r\n    private lightboxItem: ILightboxItem = {\r\n        imgs: '', // Img Url , string or Array\r\n        visible: false,\r\n        index: 0, // default: 0\r\n    };\r\n\r\n    private modalShow: boolean = false;\r\n    private dragging: boolean = false;\r\n\r\n    private imageUrl: string = '';\r\n\r\n    private cropItem: IComponent.ICropItem = {\r\n        size: 1, //剪切後的圖片質量（0.1 - 1）\r\n        outputType: 'png', // 裁剪生成圖片的格式 jpeg (jpg 需要传入jpeg) || png || webp\r\n\r\n        full: true, //是否輸出原圖比例的截圖\r\n\r\n        canScale: false, // 圖片是否允許滾輪縮放\r\n        canMove: true, // 上傳圖片是否可以移動\r\n        canMoveBox: true, // 截圖框能否拖動\r\n\r\n        autoCrop: false, // 是否默認生成截圖框\r\n        autoCropWidth: 500, // 默認生成截圖框寬度（0 - max）\r\n        autoCropHeight: 500, // 默認生成截圖框高度（0 - max）\r\n\r\n        fixed: true, // 是否開啟截圖框寬高固定比例\r\n        fixedNumber: [1, 1], // 截圖框的寬高比例 [寬度, 高度]\r\n        fixedBox: true, // 固定截圖框大小 不允許改變\r\n\r\n        original: false, // 上傳圖片按照原始比例渲染\r\n\r\n        centerBox: true, // 截圖框是否被限制在圖片裡面\r\n\r\n        info: true, // 裁剪框的大小信息\r\n        infoTrue: true, // true 為展示真實輸出圖片寬高 false 展示看到的截圖框寬高\r\n\r\n        maxImgSize: 2000, // 0 - max 限制圖片最大寬度和高度\r\n    };\r\n\r\n    //////////////////// vue life ////////////////////\r\n\r\n    private created(): void {}\r\n\r\n    private mounted(): void {\r\n        this.initSrc();\r\n    }\r\n\r\n    @Watch('src', { immediate: true, deep: true })\r\n    private formSrcChanged(newVal: string, oldVal: string): void {\r\n        this.initSrc();\r\n    }\r\n\r\n    //////////////////// Init Data ////////////////////\r\n    private initSrc(): void {\r\n        this.faceImgSrc = this.src;\r\n    }\r\n\r\n    //////////////////// cropper ////////////////////\r\n\r\n    private getCropperValue(value: string) {\r\n        this.imageUrl = value;\r\n        this.faceImgSrc = value;\r\n        this.clickCloseModal();\r\n        this.$emit('upload-image', this.faceImgSrc, this.id);\r\n    }\r\n\r\n    //////////////////// show Icon ////////////////////\r\n    private showToolbox(isShow): void {\r\n        this.isShowToolbox = isShow;\r\n    }\r\n\r\n    //////////////////// upload ////////////////////\r\n\r\n    // 點擊觸發 input 的 ref\r\n    private clickUploadFile(): void {\r\n        (this.$refs.uploadFile as any).click();\r\n    }\r\n\r\n    // 點擊 input 後 上傳檔案\r\n    private checkUploadFile(): void {\r\n        let uploadFileRef: any = this.$refs.uploadFile;\r\n        this.uploadFile(uploadFileRef.files[0]);\r\n        uploadFileRef.value = '';\r\n        this.isShowToolbox = false;\r\n    }\r\n\r\n    // 處理 file to base64\r\n    private async uploadFile(file): Promise<void> {\r\n        let base64: any = null;\r\n        base64 = await ServiceBase64.getBase64(file);\r\n\r\n        if (base64.result) {\r\n            this.faceImgSrc = base64.result;\r\n            this.imageUrl = base64.result;\r\n        }\r\n        this.clickShowModal();\r\n    }\r\n\r\n    //////////////////// delete ////////////////////\r\n    private clickDeleteFile(): void {\r\n        this.faceImgSrc = this.personEmptyDefault;\r\n        this.$emit('upload-image', undefined, this.id);\r\n    }\r\n\r\n    //////////////////// download ////////////////////\r\n    //下載圖片\r\n    private clickDownloadFile(): void {\r\n        this.downloadFile(this.faceImgSrc);\r\n    }\r\n\r\n    //檔案下載\r\n    private downloadFile(content: string, fileName: string = 'photo.png'): void {\r\n        const aLink: HTMLAnchorElement = document.createElement('a');\r\n        let blob = this.base64ToBlob(content);\r\n        const evt = new Event('click', { bubbles: true, cancelable: true });\r\n\r\n        aLink.dispatchEvent(evt);\r\n        aLink.download = fileName;\r\n        aLink.href = URL.createObjectURL(blob);\r\n\r\n        // aLink.dispatchEvent(evt);\r\n        aLink.click();\r\n    }\r\n\r\n    // base64轉blob\r\n    private base64ToBlob(code: string): Blob {\r\n        let parts = code.split(';base64,');\r\n        let contentType = parts[0].split(':')[1];\r\n        let raw = window.atob(parts[1]);\r\n        let rawLength = raw.length;\r\n\r\n        let uInt8Array = new Uint8Array(rawLength);\r\n\r\n        for (let i = 0; i < rawLength; ++i) {\r\n            uInt8Array[i] = raw.charCodeAt(i);\r\n        }\r\n        return new Blob([uInt8Array], { type: contentType });\r\n    }\r\n\r\n    //////////////////// view original ////////////////////\r\n    private clickViewOriginal(): void {\r\n        this.isShowOriginalImage = true;\r\n        this.lightboxItem = {\r\n            imgs: this.faceImgSrc, // Img Url , string or Array\r\n            visible: true,\r\n            index: 0, // default: 0\r\n        };\r\n    }\r\n\r\n    private clickHide(): void {\r\n        this.lightboxItem.visible = false;\r\n        this.isShowOriginalImage = false;\r\n    }\r\n\r\n    //////////////////// modalSh ////////////////////\r\n\r\n    private clickShowModal(): void {\r\n        this.modalShow = true;\r\n        this.dragging = false;\r\n        this.$emit('upload-image', this.faceImgSrc, this.id);\r\n    }\r\n\r\n    private clickCloseModal(): void {\r\n        this.modalShow = false;\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_advanced_cropper_button.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_advanced_cropper_button.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image_advanced_cropper_button.vue?vue&type=template&id=9629c932&scoped=true&\"\nimport script from \"./image_advanced_cropper_button.vue?vue&type=script&lang=ts&\"\nexport * from \"./image_advanced_cropper_button.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9629c932\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component } from 'vue-property-decorator';\r\n\r\nimport { ServiceResolveText } from '@/../helpers';\r\n\r\nimport FormImageDark from '@/../components/image/image_dark.vue';\r\nimport FormImageLight from '@/../components/image/image_light.vue';\r\nimport FormImageAdvanced from '@/../components/image/image_advanced.vue';\r\nimport FormImageAdvancedCropper from '@/../components/image/image_advanced_cropper.vue';\r\nimport FormImageAdvancedCropperButton from '@/../components/image/image_advanced_cropper_button.vue';\r\nimport ImageView from '@/../components/image/image_view.vue';\r\nimport { FakeData } from '@/components/image';\r\n\r\ninterface IFormData {\r\n    image_view: string;\r\n    design_advanced: string;\r\n    design_advanced_cropper: string;\r\n    design: string;\r\n    dark_x: string;\r\n    light_x: string;\r\n}\r\n\r\n@Component({\r\n    components: {\r\n        FormImageDark,\r\n        FormImageLight,\r\n        FormImageAdvanced,\r\n        ImageView,\r\n        FormImageAdvancedCropper,\r\n        FormImageAdvancedCropperButton,\r\n    },\r\n})\r\nexport default class VuePageClass extends Vue {\r\n    //#region variable\r\n    private imageBase64: string = FakeData.Image4;\r\n\r\n    private formDataOriginal: IFormData = {\r\n        image_view: '',\r\n        design_advanced: '',\r\n        design_advanced_cropper: '',\r\n        design: '',\r\n        dark_x: '',\r\n        light_x: '',\r\n    };\r\n    private formData: IFormData = { ...this.formDataOriginal };\r\n    //#endregion\r\n\r\n    //#region init\r\n    //#endregion\r\n\r\n    //#region form\r\n    private formUploadImage(src: string): void {}\r\n    //#endregion\r\n\r\n    //#region Resolve text\r\n    private resolvePhotoIsUrlOrBase64(data: string) {\r\n        return ServiceResolveText.resolvePhotoIsUrlOrBase64(data);\r\n    }\r\n    //#endregion\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image.vue?vue&type=template&id=7af7fcb1&scoped=true&\"\nimport script from \"./image.vue?vue&type=script&lang=ts&\"\nexport * from \"./image.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./image.vue?vue&type=style&index=0&id=7af7fcb1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7af7fcb1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-box\"},[(_vm.isModify)?_c('div',{staticClass:\"form-image\",on:{\"mouseover\":function($event){return _vm.showToolbox(true)},\"mouseout\":function($event){return _vm.showToolbox(false)}}},[_c('img',{staticClass:\"contain\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc}}),_c('div',{class:['drop-zone', _vm.dragging ? 'drop-zone-dropping' : ''],on:{\"dragestart\":function($event){_vm.dragging = true},\"dragenter\":function($event){_vm.dragging = true},\"dragleave\":function($event){_vm.dragging = false}}},[_c('input',{ref:\"uploadFile\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"input\":_vm.checkUploadFile}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowToolbox),expression:\"isShowToolbox\"}]},[_c('div',{staticClass:\"up-img\"}),(_vm.faceImgSrc !== _vm.personEmptyDefault)?_c('div',[_c('div',[_c('b-button',{staticClass:\"btn-upload\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickUploadFile}},[_c('i',{staticClass:\"fas fa-upload\"})])],1),_c('div',[_c('b-button',{staticClass:\"btn-download\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickDownloadFile}},[_c('i',{staticClass:\"fas fa-download\"})])],1),_c('div',[_c('b-button',{staticClass:\"btn-close\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickDeleteFile}},[_c('i',{staticClass:\"fas fa-times\"})])],1),_c('div',[_c('b-button',{staticClass:\"btn-view\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickViewOriginal}},[_c('i',{staticClass:\"fas fa-eye\"})])],1)]):_c('div',[_c('b-button',{staticClass:\"btn-upload-only\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.clickUploadFile}},[_c('i',{staticClass:\"fas fa-upload\"})])],1)])]):_c('div',[_c('img',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowOriginalImage),expression:\"isShowOriginalImage\"}]},[_c('vue-easy-lightbox',{attrs:{\"escDisabled\":\"\",\"moveDisabled\":\"\",\"visible\":_vm.lightboxItem.visible,\"imgs\":_vm.lightboxItem.imgs},on:{\"hide\":_vm.clickHide}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modalShow),expression:\"modalShow\"}],staticClass:\"image-modal\"},[_c('b-modal',{attrs:{\"hide-footer\":true,\"no-close-on-backdrop\":true,\"title\":_vm.$i18n.Image_CropPhoto,\"size\":\"lg\",\"centered\":\"\"},on:{\"close\":_vm.clickCloseModal},model:{value:(_vm.modalShow),callback:function ($$v) {_vm.modalShow=$$v},expression:\"modalShow\"}},[_c('form-image-cropper',{attrs:{\"imgFile\":_vm.imageUrl,\"cropItem\":_vm.cropItem},on:{\"cropper-value\":_vm.getCropperValue}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\n\r\nimport { ServiceBase64, personEmpty } from '@/../helpers';\r\nimport { IComponent } from '@/../models';\r\n\r\nimport FormImageCropper from './image_cropper.vue';\r\n\r\n// vue-easy-lightbox\r\nimport Lightbox from 'vue-easy-lightbox';\r\nVue.use(Lightbox);\r\n\r\ninterface ILightboxItem {\r\n    imgs: string;\r\n    visible: boolean;\r\n    index: number;\r\n}\r\n\r\n@Component({\r\n    components: { FormImageCropper },\r\n})\r\nexport default class FormImageAdvancedCropper extends Vue {\r\n    //#region prop\r\n    @Prop({\r\n        type: String,\r\n        default: '',\r\n    })\r\n    private id: string;\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: personEmpty,\r\n    })\r\n    private src: string;\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: personEmpty,\r\n    })\r\n    private defaultSrc: string;\r\n\r\n    @Prop({\r\n        type: Boolean,\r\n        default: true,\r\n    })\r\n    private isModify: boolean;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: 150,\r\n    })\r\n    private width: number;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: 150,\r\n    })\r\n    private height: number;\r\n    //#endregion prop\r\n\r\n    //#region variables\r\n    private personEmptyDefault: string = personEmpty;\r\n    private faceImgSrc: string = this.personEmptyDefault;\r\n    private isShowToolbox: boolean = false;\r\n    private isShowOriginalImage: boolean = false;\r\n\r\n    private lightboxItem: ILightboxItem = {\r\n        imgs: '', // Img Url , string or Array\r\n        visible: false,\r\n        index: 0, // default: 0\r\n    };\r\n\r\n    private modalShow: boolean = false;\r\n    private dragging: boolean = false;\r\n\r\n    private imageUrl: string = '';\r\n\r\n    private cropItem: IComponent.ICropItem = {\r\n        size: 1, //剪切後的圖片質量（0.1 - 1）\r\n        outputType: 'png', // 裁剪生成圖片的格式 jpeg (jpg 需要传入jpeg) || png || webp\r\n\r\n        full: true, //是否輸出原圖比例的截圖\r\n\r\n        canScale: false, // 圖片是否允許滾輪縮放\r\n        canMove: true, // 上傳圖片是否可以移動\r\n        canMoveBox: true, // 截圖框能否拖動\r\n\r\n        autoCrop: false, // 是否默認生成截圖框\r\n        autoCropWidth: 500, // 默認生成截圖框寬度（0 - max）\r\n        autoCropHeight: 500, // 默認生成截圖框高度（0 - max）\r\n\r\n        fixed: true, // 是否開啟截圖框寬高固定比例\r\n        fixedNumber: [1, 1], // 截圖框的寬高比例 [寬度, 高度]\r\n        fixedBox: false, // 固定截圖框大小 不允許改變\r\n\r\n        original: false, // 上傳圖片按照原始比例渲染\r\n\r\n        centerBox: true, // 截圖框是否被限制在圖片裡面\r\n\r\n        info: true, // 裁剪框的大小信息\r\n        infoTrue: true, // true 為展示真實輸出圖片寬高 false 展示看到的截圖框寬高\r\n\r\n        maxImgSize: 2000, // 0 - max 限制圖片最大寬度和高度\r\n    };\r\n    //#endregion variables\r\n\r\n    //#region vue life\r\n    private mounted(): void {\r\n        this.initSrc();\r\n    }\r\n    //#endregion vue life\r\n\r\n    //#region watch\r\n    @Watch('src', { immediate: true, deep: true })\r\n    private formSrcChanged(newVal: string, oldVal: string): void {\r\n        this.initSrc();\r\n    }\r\n\r\n    @Watch('defaultSrc', { immediate: true, deep: true })\r\n    private defaultSrcChanged(newVal: string, oldVal: string): void {\r\n        this.personEmptyDefault = newVal;\r\n    }\r\n    //#endregion watch\r\n\r\n    //#region init\r\n    private initSrc(): void {\r\n        this.faceImgSrc = this.src;\r\n    }\r\n    //#endregion init\r\n\r\n    //#region cropper\r\n    private getCropperValue(value: string): void {\r\n        this.imageUrl = value;\r\n        this.faceImgSrc = value;\r\n        this.clickCloseModal();\r\n    }\r\n    //#endregion cropper\r\n    //#region show icon\r\n    private showToolbox(isShow: boolean): void {\r\n        this.isShowToolbox = isShow;\r\n    }\r\n    //#endregion show icon\r\n\r\n    //#region upload\r\n    // 點擊觸發 input 的 ref\r\n    private clickUploadFile(): void {\r\n        (this.$refs.uploadFile as any).click();\r\n    }\r\n\r\n    // 點擊 input 後 上傳檔案\r\n    private checkUploadFile(e): void {\r\n        var files = e.target.files || e.dataTransfer.files;\r\n        let uploadFileRef: any = this.$refs.uploadFile;\r\n        this.uploadFile(uploadFileRef.files[0]);\r\n        uploadFileRef.value = '';\r\n        this.isShowToolbox = false;\r\n    }\r\n\r\n    // 處理 file to base64\r\n    private async uploadFile(file): Promise<void> {\r\n        let base64: any = null;\r\n        base64 = await ServiceBase64.getBase64(file);\r\n\r\n        if (base64.result) {\r\n            this.faceImgSrc = base64.result;\r\n            this.imageUrl = base64.result;\r\n        }\r\n        this.clickShowModal();\r\n    }\r\n    //#endregion upload\r\n\r\n    //#region delete\r\n    private clickDeleteFile(): void {\r\n        this.faceImgSrc = this.personEmptyDefault;\r\n        this.$emit('upload-image', undefined, this.id);\r\n    }\r\n    //#endregion delete\r\n\r\n    //#region download\r\n    //下載圖片\r\n    private clickDownloadFile(): void {\r\n        this.downloadFile(this.faceImgSrc);\r\n    }\r\n\r\n    //檔案下載\r\n    private async downloadFile(content: string, fileName: string = 'photo.png'): Promise<void> {\r\n        let aLink = document.createElement('a');\r\n\r\n        let base64Img: string = '';\r\n\r\n        if (ServiceBase64.isUrl(content)) {\r\n            base64Img = await ServiceBase64.urlToBase64(content);\r\n        } else if (ServiceBase64.isBase64Image(content)) {\r\n            base64Img = content;\r\n        }\r\n\r\n        //new Blob([content]);\r\n        let blob = this.base64ToBlob(base64Img);\r\n\r\n        let evt = document.createEvent('HTMLEvents');\r\n        //initEvent 不加後兩個參數在FF下會報錯  事件類型，是否冒泡，是否阻止瀏覽器的默認行為\r\n        evt.initEvent('click', true, true);\r\n        aLink.download = fileName;\r\n        aLink.href = URL.createObjectURL(blob);\r\n\r\n        // aLink.dispatchEvent(evt);\r\n        aLink.click();\r\n    }\r\n\r\n    // base64轉blob\r\n    private base64ToBlob(code: string): Blob {\r\n        let parts = code.split(';base64,');\r\n        let contentType = parts[0].split(':')[1];\r\n        let raw = window.atob(parts[1]);\r\n        let rawLength = raw.length;\r\n\r\n        let uInt8Array = new Uint8Array(rawLength);\r\n\r\n        for (let i = 0; i < rawLength; ++i) {\r\n            uInt8Array[i] = raw.charCodeAt(i);\r\n        }\r\n        return new Blob([uInt8Array], { type: contentType });\r\n    }\r\n    //#endregion download\r\n\r\n    //#region view\r\n    private clickViewOriginal(): void {\r\n        this.isShowOriginalImage = true;\r\n        this.lightboxItem = {\r\n            imgs: this.faceImgSrc, // Img Url , string or Array\r\n            visible: true,\r\n            index: 0, // default: 0\r\n        };\r\n    }\r\n\r\n    private clickHide(): void {\r\n        this.lightboxItem.visible = false;\r\n        this.isShowOriginalImage = false;\r\n    }\r\n    //#endregion view\r\n\r\n    //#region model\r\n    private clickShowModal(): void {\r\n        this.modalShow = true;\r\n        this.dragging = false;\r\n    }\r\n\r\n    private clickCloseModal(): void {\r\n        this.modalShow = false;\r\n        this.$emit('upload-image', this.faceImgSrc, this.id);\r\n    }\r\n    //#endregion model\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_advanced_cropper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_advanced_cropper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image_advanced_cropper.vue?vue&type=template&id=6bd876e6&scoped=true&\"\nimport script from \"./image_advanced_cropper.vue?vue&type=script&lang=ts&\"\nexport * from \"./image_advanced_cropper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./image_advanced_cropper.vue?vue&type=style&index=0&id=6bd876e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bd876e6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-box\"},[_c('div',[_c('div',{on:{\"click\":_vm.clickViewOriginal}},[_c('img',{staticClass:\"contain\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"src\":_vm.faceImgSrc},on:{\"error\":_vm.handleImageError}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowOriginalImage),expression:\"isShowOriginalImage\"}]},[_c('vue-easy-lightbox',{attrs:{\"escDisabled\":\"\",\"moveDisabled\":\"\",\"visible\":_vm.lightboxItem.visible,\"imgs\":_vm.lightboxItem.imgs},on:{\"hide\":_vm.clickHide}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\nimport { personEmpty } from '@/../helpers';\r\n\r\n// vue-easy-lightbox\r\nimport Lightbox from 'vue-easy-lightbox';\r\nVue.use(Lightbox);\r\n\r\ninterface ILightboxItem {\r\n    imgs: string;\r\n    visible: boolean;\r\n    index: number;\r\n}\r\n\r\n@Component({\r\n    components: {},\r\n})\r\nexport default class ImageView extends Vue {\r\n    //#region prop\r\n    @Prop({\r\n        type: String,\r\n        default: '',\r\n    })\r\n    private id: string;\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: personEmpty,\r\n    })\r\n    private src: string;\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: personEmpty,\r\n    })\r\n    private orignalSrc: string;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: 150,\r\n    })\r\n    private width: number;\r\n\r\n    @Prop({\r\n        type: Number,\r\n        default: 150,\r\n    })\r\n    private height: number;\r\n    //#endregion prop\r\n\r\n    //#region variable\r\n    private faceImgSrc: string = personEmpty;\r\n    private isShowOriginalImage: boolean = false;\r\n\r\n    private lightboxItem: ILightboxItem = {\r\n        imgs: '', // Img Url , string or Array\r\n        visible: false,\r\n        index: 0, // default: 0\r\n    };\r\n    //#endregion variable\r\n\r\n    //#region vue life\r\n\r\n    private mounted(): void {\r\n        this.initSrc();\r\n    }\r\n    //#endregion vue life\r\n\r\n    //#region watch\r\n    @Watch('src', { immediate: true, deep: true })\r\n    private formSrcChanged(newVal: string, oldVal: string): void {\r\n        this.initSrc();\r\n    }\r\n\r\n    @Watch('orignalSrc', { immediate: true, deep: true })\r\n    private formOrignalSrcChanged(newVal: string, oldVal: string): void {}\r\n    //#endregion watch\r\n\r\n    //#region init Data\r\n    private initSrc(): void {\r\n        this.faceImgSrc = this.src;\r\n    }\r\n    //#endregion init Data\r\n\r\n    //#regionclick\r\n    private clickViewOriginal(): void {\r\n        this.isShowOriginalImage = true;\r\n        this.lightboxItem = {\r\n            imgs: this.orignalSrc, // Img Url , string or Array\r\n            visible: true,\r\n            index: 0, // default: 0\r\n        };\r\n    }\r\n\r\n    private clickHide(): void {\r\n        this.lightboxItem.visible = false;\r\n        this.isShowOriginalImage = false;\r\n    }\r\n    //#endregion click\r\n\r\n    //#region handle error\r\n    private handleImageError(): void {\r\n        this.faceImgSrc = personEmpty;\r\n    }\r\n    //#endregion handle error\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_view.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_view.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image_view.vue?vue&type=template&id=3d219128&scoped=true&\"\nimport script from \"./image_view.vue?vue&type=script&lang=ts&\"\nexport * from \"./image_view.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./image_view.vue?vue&type=style&index=0&id=3d219128&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d219128\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image.vue?vue&type=style&index=0&id=7af7fcb1&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_view.vue?vue&type=style&index=0&id=3d219128&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crop-range\"},[_c('div',{staticClass:\"img-crop\"},[_c('div',{staticClass:\"imgCrop-content\"},[_c('div',{staticClass:\"cropper-content\"},[_c('vueCropper',{ref:\"cropper\",attrs:{\"img\":_vm.option.img,\"outputSize\":_vm.option.size,\"outputType\":_vm.option.outputType,\"full\":_vm.option.full,\"canScale\":_vm.option.canScale,\"canMove\":_vm.option.canMove,\"canMoveBox\":_vm.option.canMoveBox,\"autoCrop\":_vm.option.autoCrop,\"autoCropWidth\":_vm.option.autoCropWidth,\"autoCropHeight\":_vm.option.autoCropHeight,\"fixed\":_vm.option.fixed,\"fixedNumber\":_vm.option.fixedNumber,\"fixedBox\":_vm.option.fixedBox,\"original\":_vm.option.original,\"centerBox\":_vm.option.centerBox,\"info\":_vm.option.info,\"infoTrue\":_vm.option.infoTrue,\"maxImgSize\":_vm.option.maxImgSize},on:{\"realTime\":_vm.realTime,\"imgLoad\":_vm.imgLoad}})],1)]),_c('div',{staticClass:\"range-container\"},[_vm._m(0),_c('b-form-input',{staticClass:\"btn-plus-minus\",attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"100\"},model:{value:(_vm.rangeValue),callback:function ($$v) {_vm.rangeValue=$$v},expression:\"rangeValue\"}}),_vm._m(1),_c('div',{staticClass:\"btn-rotate\"},[_c('div',{on:{\"click\":_vm.rotateRight}},[_c('i',{staticClass:\"fas fa-redo-alt\"})]),_c('div',{staticClass:\"btn-proportion ml-3\",on:{\"click\":_vm.slectProportion}},[_c('i',{staticClass:\"fas fa-window-maximize\"})])])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showProportion),expression:\"showProportion\"}],staticClass:\"proportion\"},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"hover-row first\",on:{\"click\":_vm.slect43}},[_vm._v(\"4:3\")])]),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"hover-row middle\",on:{\"click\":_vm.slect169}},[_vm._v(\"16:9\")])]),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"hover-row middle\",on:{\"click\":_vm.slectSquare}},[_vm._v(\" \"+_vm._s(_vm.$i18n.Image_Square)+\" \")])]),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"hover-row last\",on:{\"click\":_vm.slectFree}},[_vm._v(\" \"+_vm._s(_vm.$i18n.Image_Free)+\" \")])])],1)],1)]),_c('div',{staticClass:\"button-group-center button-bottom\"},[_c('b-button',{staticClass:\"button-confirm\",attrs:{\"size\":\"md\"},on:{\"click\":_vm.submitPhoto}},[_vm._v(_vm._s(_vm.$i18n.Button_Confirm))]),_c('b-button',{staticClass:\"button-cancel ml-3\",attrs:{\"size\":\"md\"},on:{\"click\":_vm.sendValueToParent}},[_vm._v(_vm._s(_vm.$i18n.Button_Cancel))])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-plus-minus\"},[_c('i',{staticClass:\"fas fa-minus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-plus-minus\"},[_c('i',{staticClass:\"fas fa-plus\"})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\nimport { IComponent } from '@/../models';\r\n\r\n// VueCropper\r\nimport VueCropper from 'vue-cropper';\r\nVue.use(VueCropper);\r\n\r\n// vue-easy-lightbox\r\nimport Lightbox from 'vue-easy-lightbox';\r\nVue.use(Lightbox);\r\n\r\ninterface ILightboxItem {\r\n    imgs: string;\r\n    visible: boolean;\r\n    index: number;\r\n}\r\n\r\ninterface IOption extends IComponent.ICropItem {\r\n    img: string;\r\n}\r\n\r\n@Component({\r\n    components: {},\r\n})\r\nexport default class FormImageCropper extends Vue {\r\n    //////////////////// prop ////////////////////\r\n\r\n    @Prop({\r\n        type: Object,\r\n        default: () => {},\r\n    })\r\n    private cropItem: IComponent.ICropItem;\r\n\r\n    @Prop({\r\n        type: String,\r\n        default: () => undefined,\r\n    })\r\n    private imgFile: string;\r\n\r\n    //////////////////// variable ////////////////////\r\n    private rangeValue: number = 0;\r\n    private showProportion: boolean = false;\r\n\r\n    private imageUrl: string = '';\r\n\r\n    //剪切圖片上傳\r\n    private previews: any = {};\r\n    private option: IOption = {\r\n        img: '', // 裁剪圖片的地址\r\n\r\n        size: 1, //剪切後的圖片質量（0.1 - 1）\r\n        outputType: 'png', // 裁剪生成圖片的格式 jpeg (jpg 需要传入jpeg) || png || webp\r\n\r\n        full: true, //是否輸出原圖比例的截圖\r\n\r\n        canScale: false, // 圖片是否允許滾輪縮放\r\n        canMove: true, // 上傳圖片是否可以移動\r\n        canMoveBox: true, // 截圖框能否拖動\r\n\r\n        autoCrop: false, // 是否默認生成截圖框\r\n        autoCropWidth: 150, // 默認生成截圖框寬度（0 - max）\r\n        autoCropHeight: 150, // 默認生成截圖框高度（0 - max）\r\n\r\n        fixed: true, // 是否開啟截圖框寬高固定比例\r\n        fixedNumber: [1, 1], // 截圖框的寬高比例 [寬度, 高度]\r\n        fixedBox: true, // 固定截圖框大小 不允許改變\r\n\r\n        original: false, // 上傳圖片按照原始比例渲染\r\n\r\n        centerBox: true, // 截圖框是否被限制在圖片裡面\r\n\r\n        info: true, // 裁剪框的大小信息\r\n        infoTrue: true, // true 為展示真實輸出圖片寬高 false 展示看到的截圖框寬高\r\n\r\n        maxImgSize: 2000, // 0 - max 限制圖片最大寬度和高度\r\n    };\r\n\r\n    //////////////////// vue life ////////////////////\r\n\r\n    // 參考資料：https://blog.csdn.net/qq_39800789/article/details/105615181\r\n\r\n    private created(): void {}\r\n    private mounted(): void {}\r\n\r\n    @Watch('cropItem', { immediate: true, deep: true })\r\n    private cropItemChanged(newVal: IComponent.ICropItem, oldVal: IComponent.ICropItem): void {\r\n        this.option.size = newVal.size;\r\n        this.option.outputType = newVal.outputType;\r\n        this.option.full = newVal.full;\r\n        this.option.canScale = newVal.canScale;\r\n        this.option.canMove = newVal.canMove;\r\n        this.option.canMoveBox = newVal.canMoveBox;\r\n        this.option.autoCrop = newVal.autoCrop;\r\n        this.option.autoCropWidth = newVal.autoCropWidth;\r\n        this.option.autoCropHeight = newVal.autoCropHeight;\r\n        this.option.fixed = newVal.fixed;\r\n        this.option.fixedNumber = newVal.fixedNumber;\r\n        this.option.fixedBox = newVal.fixedBox;\r\n        this.option.original = newVal.original;\r\n        this.option.centerBox = newVal.centerBox;\r\n        this.option.info = newVal.info;\r\n        this.option.infoTrue = newVal.infoTrue;\r\n        this.option.maxImgSize = newVal.maxImgSize;\r\n\r\n        this.changeLayer();\r\n    }\r\n\r\n    @Watch('imgFile', { immediate: true, deep: true })\r\n    private imgFileChanged(newVal: string, oldVal: string): void {\r\n        this.option.img = newVal;\r\n        this.imageUrl = newVal;\r\n    }\r\n\r\n    @Watch('rangeValue', { immediate: true, deep: true })\r\n    private rangeValueChanged(newVal: string, oldVal: string): void {\r\n        let diff: number = parseInt(newVal, 10) - parseInt(oldVal, 10);\r\n        if (!isNaN(diff)) {\r\n            this.changeScale(diff);\r\n        }\r\n    }\r\n\r\n    //////////////////// 將值傳遞給父元件 ////////////////////\r\n    private sendValueToParent(): void {\r\n        this.$emit('cropper-value', this.imageUrl);\r\n    }\r\n\r\n    //////////////////// 上傳圖片 ////////////////////\r\n    private submitPhoto(): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        // 獲取截圖的base64 數據\r\n        cropper.getCropData((data) => {\r\n            this.imageUrl = data;\r\n            this.sendValueToParent();\r\n        });\r\n    }\r\n\r\n    //////////////////// * 圖片調整開始 * ////////////////////\r\n    //放大/縮小\r\n    private changeScale(num: number): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        num = num || 1;\r\n        cropper.changeScale(num);\r\n    }\r\n\r\n    //左旋轉\r\n    private rotateLeft(): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        cropper.rotateLeft();\r\n    }\r\n\r\n    //右旋轉\r\n    private rotateRight(): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        cropper.rotateRight();\r\n    }\r\n\r\n    // 選擇範圍大小\r\n    private changeLayer(): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        this.option.autoCrop = !this.option.autoCrop;\r\n    }\r\n\r\n    // 實時預覽函數\r\n    private realTime(data: any): void {\r\n        this.previews = data;\r\n    }\r\n\r\n    private imgLoad(message: string): void {\r\n        // console.log('imgLoad => ', message);\r\n    }\r\n\r\n    //////////////////// * 圖片調整結束 * ////////////////////\r\n\r\n    //下載圖片\r\n    private downloadImage(type): void {\r\n        let cropper: any = this.$refs.cropper;\r\n        var aLink = document.createElement('a');\r\n        aLink.download = 'photo';\r\n        if (type === 'blob') {\r\n            cropper.getCropBlob((data) => {\r\n                aLink.href = window.URL.createObjectURL(data);\r\n                aLink.click();\r\n            });\r\n        } else {\r\n            cropper.getCropData((data) => {\r\n                aLink.href = data;\r\n                aLink.click();\r\n            });\r\n        }\r\n    }\r\n\r\n    // 壓縮圖片\r\n    private compressImage(img): string {\r\n        let canvas = document.createElement('canvas'),\r\n            ctx = canvas.getContext('2d'),\r\n            initSize = img.src.length,\r\n            width = img.width,\r\n            height = img.height;\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        // 鋪底色\r\n        ctx.fillStyle = '#fff';\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        ctx.drawImage(img, 0, 0, width, height);\r\n        //進行壓縮\r\n        let ndata = canvas.toDataURL('image/jpeg', 0.8);\r\n        //console.log(\"壓縮後的圖片大小：\" + ndata.length)\r\n        return ndata;\r\n    }\r\n\r\n    // base64轉成bolb對像\r\n    private dataURItoBlob(base64Data): Blob {\r\n        let byteString;\r\n        if (base64Data.split(',')[0].indexOf('base64') >= 0) byteString = atob(base64Data.split(',')[1]);\r\n        else byteString = unescape(base64Data.split(',')[1]);\r\n        let mimeString = base64Data.split(',')[0].split(':')[1].split(';')[0];\r\n        let ia = new Uint8Array(byteString.length);\r\n        for (let i = 0; i < byteString.length; i++) {\r\n            ia[i] = byteString.charCodeAt(i);\r\n        }\r\n        return new Blob([ia], { type: mimeString });\r\n    }\r\n\r\n    //////////////////// 選擇比例 ////////////////////\r\n    private slectProportion() {\r\n        this.showProportion = !this.showProportion;\r\n        this.changeLayer();\r\n    }\r\n\r\n    private slect43() {\r\n        this.option.fixedNumber = [4, 3];\r\n        this.option.fixed = true;\r\n        this.showProportion = !this.showProportion;\r\n        this.changeLayer();\r\n    }\r\n\r\n    private slect169() {\r\n        this.option.fixedNumber = [16, 9];\r\n        this.option.fixed = true;\r\n        this.showProportion = !this.showProportion;\r\n        this.changeLayer();\r\n    }\r\n\r\n    private slectSquare() {\r\n        this.option.fixedNumber = [1, 1];\r\n        this.option.fixed = true;\r\n        this.showProportion = !this.showProportion;\r\n        this.changeLayer();\r\n    }\r\n\r\n    private slectFree() {\r\n        this.option.fixedNumber = [1, 1];\r\n        this.option.fixed = false;\r\n        this.showProportion = !this.showProportion;\r\n        this.changeLayer();\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_cropper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_cropper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image_cropper.vue?vue&type=template&id=f15339cc&scoped=true&\"\nimport script from \"./image_cropper.vue?vue&type=script&lang=ts&\"\nexport * from \"./image_cropper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./image_cropper.vue?vue&type=style&index=0&id=f15339cc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f15339cc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_advanced_cropper.vue?vue&type=style&index=0&id=6bd876e6&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_light.vue?vue&type=style&index=0&id=6c341524&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image_dark.vue?vue&type=style&index=0&id=7b1641a1&lang=scss&scoped=true&\""],"sourceRoot":""}